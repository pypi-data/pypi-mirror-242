[common]
# No need to change.
MODEL = ecearth
# No need to change.
VERSION = v3.2.3
# No need to change.
TEMPLATE_NAME = ecearth3
# Select the model output control class. STRING = Option listed under the section : https://earth.bsc.es/wiki/doku.php?id=overview_outclasses
OUTCLASS =
# After transferring output at /esnas/exp remove a copy available at permanent storage of HPC [Default: Do set "TRUE"]. BOOLEAN = TRUE, FALSE
MODEL_output_remove = TRUE
# Model ID for cmorization
MODEL_ID = EC-Earth3-LR
# Activate cmorization [Empty = TRUE]. BOOLEAN = TRUE, FALSE
CMORIZATION = FALSE
# Supply the name of the experiment associated (if there is any) otherwise leave it empty. STRING (with space) = seasonal r1p1, seaiceinit r?p?
ASSOCIATED_EXPERIMENT = 
# Essential if cmorization is activated (Forcing). STRING = Nat,Ant (Nat and Ant is a single option)
FORCING =
# Delete run dir folder on inicialization step. BOOLEAN = TRUE, FALSE 
DELETE_RUN_DIR_ON_INI = false
# Official name of cmor experiment (used in the metadata and file/directory name of the cmorfiles). Must belong to control vocabulary described in https://github.com/jonseddon/cmip6-cmor-tables/blob/d6c5339a13f302bfa3bcdee667e30c21745ac2c5/Tables/CMIP6_CV.json . Most common ones are: piControl, historical, spinup-1950... 
CMOR_EXP = historical
# Model resolution (used in the metadata and file/directory name of the cmorfiles). STRING: HR, LR
MODEL_RES = LR

ADD_PROJECT_TO_HOST = false

[diagnostics]
# Diagnostics to run
DIAGS =
# Default frequency for the diagnostics run (mon, day, 6h)
DIAGS_FREQ = mon

# Force cmorization of model outputs by earth diagnostics. If true and outputs have not been cmorized online, Earth diagnostics will cmorize them. If false, will cmorize only what if finds, or fail. BOOLEAN = TRUE, FALSE
FORCE_CMORIZATION = False

#CMOR format in which the Earth diagnostics will be produced. STRING: PRIMAVERA, SPECS, CMIP5
DATA_CONVENTION = PRIMAVERA

#Realm to cmorized. True by default, put to false if ifs or nemo only. BOOLEAN = TRUE, FALSE
CMORIZE_ATMOS = True
#Realm to cmorized. True by default, put to false if ifs or nemo only. BOOLEAN = TRUE, FALSE
CMORIZE_OCEAN = True

#grib codes of atmospheric variables to be cmorized by earth diagnostics. 
ATMOS_HOURLY_VARS = 129:30000:90000:5000, 130, 131:30000:90000:5000, 132:30000:90000:5000, 151, 167, 168, 164, 165, 166
ATMOS_DAILY_VARS = 167, 165, 166, 151, 164, 168, 169, 177, 179, 228, 201, 202, 130:85000
ATMOS_MONTHLY_VARS = 167, 201, 202, 165, 166, 151, 144, 228, 205, 182, 164, 146, 147, 176, 169, 177, 175, 212, 141, 180, 181, 179, 168, 243, 129:5000-20000-50000-85000, 130:5000-20000-50000-85000, 131:5000-20000-50000-85000, 132:5000-20000-50000-85000, 133:5000-20000-50000-85000

#Type of the project (used in cmorization to define the type of outputs produced by the model and how to convert them). STRING: PRIMAVERA,  STANDARD
PROJ_TYPE = STANDARD

[grid]
# AGCM grid resolution, horizontal (truncation T) and vertical (levels L). STRING = T159L62, T255L62, T255L91, T511L91, T799L62 (IFS)
IFS_resolution = T255L91
# OGCM grid resolution. STRING = ORCA1L46, ORCA1L75, ORCA025L46, ORCA025L75 (NEMO)
NEMO_resolution = ORCA1L75

[oasis]
# Coupler (OASIS) options.
OASIS3 = yes
# Number of pseduo-parallel cores for coupler [Default: Do set "7"]. NUMERIC = 1, 7, 10
OASIS_nproc =
# Handling the creation of coupling fields dynamically [Default: Do set "TRUE"]. BOOLEAN = TRUE, FALSE 
OASIS_flds =

[ioserver]
# Number of parallel I/O servers for XIOS. NUMERIC = 1, 31. Only when using_server=true
XIO_NUMPROC = 47

[ifs]
# Atmospheric initial conditions ready to be used. STRING = ID found here :  	https://earth.bsc.es/wiki/doku.php?id=initial_conditions:atmospheric
ATM_ini = 
# A different IC member per EXPID member ["PERT"] or which common IC member for all EXPID members ["fc0" / "fc1"]. String = PERT/fc0/fc1...
ATM_ini_member =
# Set timestep (in sec) w.r.t resolution. NUMERIC = 3600 (T159), 2700 (T255), 900 (T511), 720 (T799)
# WARNING: Timestep is hardcoded if you want to change it edit your run script template ece-nemo.sh.tmpl ece-ifs+nemo.sh.tmpl/ece-ifs.sh.tmpl/ece-nemo.sh.tmpl in sources/runtime/autosubmit/
# IFS_timestep = 2700
# Number of parallel cores for AGCM component. NUMERIC = 28, 100
IFS_NUMPROC = 432
# Coupling frequency (in seconds) [Default: Do set "2700"]. NUMERIC = 2700, 900
# WARNING: Timestep is hardcoded if you want to change it edit your run script template ece-nemo.sh.tmpl ece-ifs+nemo.sh.tmpl/ece-ifs.sh.tmpl/ece-nemo.sh.tmpl in sources/runtime/autosubmit/
# RUN_coupFreq = 2700
# Post-procssing frequency (in hours) [Default: Do set "6"]. NUMERIC = 3, 6
NFRP = 6
# [Default: Do set "TRUE"]. BOOLEAN = TRUE, FALSE
LCMIP5 = 
# Choose RCP value [Default: Do set "2"]. NUMERIC = 0, 1=3-PD, 2=4.5, 3=6, 4=8.5
NRCP = 
# [Default: Do set "TRUE"]. BOOLEAN = TRUE, FALSE
LHVOLCA = TRUE
# [Default: Do set "0"]. NUMERIC = 1850, 2005
NFIXYR = 0
# Save daily output or not [Default: Do set "FALSE"]. BOOLEAN = TRUE, FALSE
SAVEDDA = FALSE
# Save reduced daily output or not [Default: Do set "FALSE"]. BOOLEAN = TRUE, FALSE
ATM_REDUCED_OUTPUT = 
# Store grib codes from SH files [User need to refer defined  ppt* files for the experiment]
ATM_SH_CODES =
# Store levels against "ATM_SH_CODES" e.g: level1,level2,level3, ...
ATM_SH_LEVELS =
# Store grib codes from GG files [User need to refer defined  ppt* files for the experiment]
ATM_GG_CODES =
# Store levels against "ATM_GG_CODES" (133.128, 246.128, 247.128, 248.128) e.g: level1,level2,level3, ...
ATM_GG_LEVELS =
# SPPT stochastic physics active or not [Default: set "FALSE"]. BOOLEAN = TRUE, FALSE
LSPPT = FALSE
# Write the perturbation patterns for SPPT or not [Default: set "FALSE"]. BOOLEAN = TRUE, FALSE
LWRITE_ARP =
# Number of scales for SPPT [Default: set 3]. NUMERIC = 1, 2, 3
NS_SPPT =
# Standard deviations of each scale [Default: set 0.50,0.25,0.125] NUMERIC values separated by ,
SDEV_SPPT =
# Decorrelation times (in seconds) for each scale [Default: set 2.16E4,2.592E5,2.592E6] NUMERIC values separated by ,
TAU_SPPT =
# Decorrelation lengths (in meters) for each scale [Default: set 500.E3,1000.E3,2000.E3] NUMERIC values separated by ,
XLCOR_SPPT =
# Clipping ratio (number of standard deviations) for SPPT [Default: set 2] NUMERIC
XCLIP_SPPT =
# Stratospheric tapering in SPPT [Default: set "TRUE"]. BOOLEAN = TRUE, FALSE
LTAPER_SPPT =
# Top of stratospheric tapering layer in Pa [Default: set to 50.E2] NUMERIC
PTAPER_TOP =
# Bottom of stratospheric tapering layer in Pa [Default: set to 100.E2] NUMERIC
PTAPER_BOT =
## ATMOSPHERIC NUDGING PARAMETERS ##
# Atmospheric nudging towards reinterpolated ERA-Interim data. BOOLEAN = TRUE, FALSE
ATM_NUDGING = FALSE
# Atmospheric nudging reference data experiment name. [T255L91: b0ir]
ATM_refnud =
# Nudge vorticity. BOOLEAN = TRUE, FALSE
NUD_VO =
# Nudge divergence. BOOLEAN = TRUE, FALSE
NUD_DI =
# Nudge temperature. BOOLEAN = TRUE, FALSE
NUD_TE =
# Nudge specific humidity. BOOLEAN = TRUE, FALSE
NUD_Q =
# Nudge liquid water content. BOOLEAN = TRUE, FALSE
NUD_QL =
# Nudge ice water content. BOOLEAN = TRUE, FALSE
NUD_QI =
# Nudge cloud fraction. BOOLEAN = TRUE, FALSE
NUD_QC =
# Nudge log of surface pressure. BOOLEAN = TRUE, FALSE
NUD_LP =
# Relaxation coefficient for vorticity. NUMERIC in ]0,inf[; 1 means half way between model value and ref value
ALPH_VO =
# Relaxation coefficient for divergence. NUMERIC in ]0,inf[; 1 means half way between model value and ref value
ALPH_DI =
# Relaxation coefficient for temperature. NUMERIC in ]0,inf[; 1 means half way between model value and ref value
ALPH_TE =
# Relaxation coefficient for specific humidity. NUMERIC in ]0,inf[; 1 means half way between model value and ref value
ALPH_Q =
# Relaxation coefficient for log surface pressure. NUMERIC in ]0,inf[; 1 means half way between model value and ref value
ALPH_LP =
# Nudging area Northern limit [Default: Do set "90"]
NUD_NLAT =
# Nudging area Southern limit [Default: Do set "-90"]
NUD_SLAT =
# Nudging area Western limit NUMERIC in [0,360] [Default: Do set "0"]
NUD_WLON =
# Nudging area Eastern limit NUMERIC in [0,360] [Default: Do set "360"; E<W will span Greenwich]
NUD_ELON =
# Nudging vertical levels : lower level [Default: Do set "1"]
NUD_VMIN =
# Nudging vertical levels : upper level [Default: Do set to number of vertical levels]
NUD_VMAX =

# Use vertically and spectrally distributed CMIP6 stratospheric aerosol forcing (TRUE or FALSE)
LCMIP6_STRATAER_FULL = FALSE
# Use background level of CMIP6 stratospheric aerosol forcing (TRUE or FALSE)
LBCKGD_STRATAER = FALSE

# Vegetation fields for tuning and 21st century climate change scenarios https://dev.ec-earth.org/issues/436
# STRING: era20c [default] or ifs (mandatory for T511)
IFS_VEG_SOURCE = era20c

[nemo]
# Ocean initial conditions ready to be used. [Default: leave empty]. STRING = ID found here : https://earth.bsc.es/wiki/doku.php?id=initial_conditions:oceanic
OCEAN_ini =
# A different IC member per EXPID member ["PERT"] or which common IC member for all EXPID members ["fc0" / "fc1"]. String = PERT/fc0/fc1...
OCEAN_ini_member =
# Set timestep (in sec) w.r.t resolution. NUMERIC = 3600 (ORCA1), 1200 (ORCA025)
# WARNING: Timestep is hardcoded if you want to change it edit your run script template ece-nemo.sh.tmpl ece-ifs+nemo.sh.tmpl/ece-ifs.sh.tmpl/ece-nemo.sh.tmpl in sources/runtime/autosubmit/
# NEMO_timestep = 2700
# Number of parallel cores for OGCM component. NUMERIC = 16, 24, 36
NEM_NUMPROC = 288
# Avoid computation of land-only subdomains BOOLEAN = true, false
NEMO_remove_land = TRUE
# Ocean Advection Scheme [Default: Do set "tvd"]. STRING = tvd, cen2
ADVSCH = tvd
# Nudging activation. BOOLEAN = TRUE, FALSE
OCEAN_NUDGING = FALSE
# Toward which data to nudge; essential if "OCEAN_NUDGING" is TRUE. STRING = fa9p, s4, glorys2v1
OCEAN_NUDDATA = 
# Rebuild and store restarts to HSM for an immediate prediction experiment. BOOLEAN = TRUE, FALSE
OCEAN_STORERST = FALSE
# Year of the forcing or -1 if same as run year. INTEGER = YYYY, -1
OCEAN_FORCYEAR = -1
# Forcing files. STRING = ERAINTERIM-ORCA1, DFS4.3  NOT WORKING: USE bsc_nemo branch 
OCEAN_FORCTYPE = DFS4.3

[ice]
# Sea-Ice Model [Default: Do set "LIM2"]. STRING = LIM2, LIM3
ICE = LIM3
# Sea-ice initial conditions ready to be used. [Default: leave empty]. STRING = ID found here : http://ic3.cat/wikicfu/index.php/Initial_Conditions/Sea-Ice
ICE_ini = 
# A different IC member per EXPID member ["PERT"] or which common IC member for all EXPID members ["fc0" / "fc1"]. String = PERT/fc0/fc1...
ICE_ini_member =
# Set timestep (in sec) w.r.t resolution. NUMERIC = 3600 (ORCA1), 1200 (ORCA025)
# WARNING: Timestep is hardcoded if you want to change it edit your run script template ece-nemo.sh.tmpl ece-ifs+nemo.sh.tmpl/ece-ifs.sh.tmpl/ece-nemo.sh.tmpl in sources/runtime/autosubmit/
# LIM_timestep = 2700

[pisces]
# Activate PISCES. BOOLEAN = TRUE, FALSE
PISCES = FALSE
# PISCES initial conditions ready to be used. [Default: leave empty]. STRING = ID found here : https://earth.bsc.es/wiki/doku.php?id=initial_conditions:biogeochemistry
PISCES_ini =
# Set timestep (in sec) w.r.t resolution. NUMERIC = 3600 (ORCA1), 3600 (ORCA025)
# WARNING: Timestep is hardcoded if you want to change it edit your run script template ece-nemo.sh.tmpl ece-ifs+nemo.sh.tmpl/ece-ifs.sh.tmpl/ece-nemo.sh.tmpl in sources/runtime/autosubmit/
# PISCES_timestep =
