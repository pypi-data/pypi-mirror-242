[LOCAL_SETUP]
FILE = templates/common/localsetup.tmpl.sh
PLATFORM = LOCAL
CHECK = true

[SYNCHRONIZE]
FILE = templates/common/synchronize.tmpl.sh
PLATFORM = transfer_node_bscearth000
DEPENDENCIES = LOCAL_SETUP
WALLCLOCK = 00:30
CHECK = true

[REMOTE_SETUP]
FILE = sources/runtime/autosubmit/compilation.sh
DEPENDENCIES = SYNCHRONIZE
WALLCLOCK = 2:00
PROCESSORS = 18
TASKS = 18
THREADS = 1
CHECK = true

[INI]
FILE = templates/common/ini.tmpl.sh
DEPENDENCIES = REMOTE_SETUP
RUNNING = member
WALLCLOCK = 00:30
CHECK = true

[SIM]
FILE = sources/runtime/autosubmit/ece-esm.sh
#DEPENDENCIES = INI SIM-1 CLEAN-3 NCTIME-3
DEPENDENCIES = INI SIM-1 CLEAN-3
RUNNING = chunk
WALLCLOCK = 01:00
#PROCESSORS = 504
PROCESSORS = 1:144:288:1
TASKS = 1:36:36:1
THREADS = 1
CHECK = on_submission

#[CMOROCE]
#FILE = templates/common/cmoroce.tmpl.sh
#DEPENDENCIES = SIM
#WALLCLOCK = 2:00
#RUNNING = chunk
#NOTIFY_ON = RUNNING FAILED COMPLETED
#TASKS = 8
#THREADS = 4
#CHECK = true

#[CMORATM]
#FILE = templates/common/cmoratm.tmpl.sh
#DEPENDENCIES = SIM SIM+1
#WALLCLOCK = 2:00
#RUNNING = chunk
#THREADS = 4
#NOTIFY_ON = FAILED COMPLETED
#TASKS = 8
#CHECK = true

#[CMORLPJG]
#FILE = templates/common/cmorlpjg.tmpl.sh
#DEPENDENCIES = SIM
#WALLCLOCK = 2:00
#RUNNING = chunk
#NOTIFY_ON = RUNNING FAILED COMPLETED
##! QUEUE = debug
#CHECK = true

#[CMORTM5]
#FILE = templates/common/cmortm5.tmpl.sh
#DEPENDENCIES = SIM
#WALLCLOCK = 2:00
#RUNNING = chunk
#NOTIFY_ON = RUNNING FAILED COMPLETED
##! QUEUE = debug
#CHECK = true

[POST]
FILE = templates/common/post.tmpl.sh
#DEPENDENCIES = CMORATM CMORATM+1 CMOROCE SAVEIC SIM SIM+1 POST-1
DEPENDENCIES = SAVEIC SIM SIM+1 POST-1
RUNNING = chunk
WALLCLOCK = 01:00
CHECK = true

[CLEAN]
FILE = templates/common/clean.tmpl.sh
#DEPENDENCIES = POST SIM SIM+1 CMOROCE CMORATM CMORATM+1
DEPENDENCIES = POST SIM SIM+1 
RUNNING = chunk
WALLCLOCK = 00:30
CHECK = true

#[EARTHDIAGS]
#FILE = templates/common/earthdiags.tmpl.sh
#PLATFORM = nord3
#DEPENDENCIES = CLEAN
#RUNNING = chunk
#WALLCLOCK = 01:00
##! QUEUE = debug
#CHECK = true

[SAVEIC]
FILE = templates/common/saveic.tmpl.sh
DEPENDENCIES = SIM
RUNNING = chunk
WALLCLOCK = 00:30
CHECK = true

[CLEAN_MEMBER]
FILE = templates/common/clean_member.tmpl.sh
DEPENDENCIES = CLEAN TRANSFER SAVEIC
RUNNING = member
WALLCLOCK = 02:00
CHECK = true

[TRANSFER]
FILE = templates/common/transfer.tmpl.sh
PLATFORM = transfer_node_bscearth000
DEPENDENCIES = CLEAN
RUNNING = chunk
CHECK = true

#[PERFORMANCE_METRICS]
#FILE = templates/common/performance_metrics.tmpl.sh
#DEPENDENCIES = CLEAN
#RUNNING = once
#PROCESSORS = 1
#PLATFORM = LOCAL
#CHECK = true

[TRANSFER_MEMBER]
FILE = templates/common/transfer_member.tmpl.sh
PLATFORM = transfer_node_bscearth000
DEPENDENCIES = CLEAN_MEMBER
RUNNING = member
CHECK = true

#[NCTIME]
#FILE = templates/common/nctime.tmpl.sh
#PLATFORM = nord3
#DEPENDENCIES = NCTIME-1 CLEAN CLEAN-1 CLEAN-2
# RUNNING = chunk
# FREQUENCY = 3
# CHECK = true
# WALLCLOCK = 01:00

