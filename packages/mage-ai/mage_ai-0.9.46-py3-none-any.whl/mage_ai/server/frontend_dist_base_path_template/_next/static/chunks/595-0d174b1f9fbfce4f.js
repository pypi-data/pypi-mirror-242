"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{55283:function(e,n,t){t.d(n,{HC:function(){return O},HS:function(){return j},IN:function(){return h},Kf:function(){return g},Nk:function(){return m},PB:function(){return x},PY:function(){return b},WC:function(){return p},fk:function(){return S},gE:function(){return A},j1:function(){return C},jv:function(){return Z},nz:function(){return y},oh:function(){return s},qn:function(){return v},t1:function(){return k},u2:function(){return f},y9:function(){return _}});var o=t(38626),i=t(44897),r=t(44425),l=t(42631),d=t(8059),c=t(70515),u=t(47041),a=t(91437),s=68,h=1.5*c.iI,p=3*c.iI;function f(e){var n=d.eW;return r.tf.CALLBACK===e?n=d.J:r.tf.CHART===e||r.tf.CONDITIONAL===e?n=d.Hv:r.tf.CUSTOM===e?n=d.AK:r.tf.DATA_EXPORTER===e?n=d.Sr:r.tf.DATA_LOADER===e?n=d.R2:r.tf.DBT===e?n=d.J:r.tf.EXTENSION===e?n=d.FI:r.tf.GLOBAL_DATA_PRODUCT===e?n=d.yr:r.tf.SCRATCHPAD===e?n=d.Hv:r.tf.SENSOR===e?n=d.rK:r.tf.MARKDOWN===e?n=d.RK:r.tf.TRANSFORMER===e&&(n=d.eW),n}function v(e,n){var t,o,l=((null===n||void 0===n||null===(t=n.theme)||void 0===t?void 0:t.borders)||i.Z.borders).light,d=((null===n||void 0===n||null===(o=n.theme)||void 0===o?void 0:o.monotone)||i.Z.monotone).grey500,c=n||{},u=c.blockColor,a=c.isSelected,s=c.theme;return a?l=(s||i.Z).content.active:r.tf.TRANSFORMER===e||u===r.Lq.PURPLE?(l=(s||i.Z).accent.purple,d=(s||i.Z).accent.purpleLight):r.tf.DATA_EXPORTER===e||u===r.Lq.YELLOW?(l=(s||i.Z).accent.yellow,d=(s||i.Z).accent.yellowLight):r.tf.DATA_LOADER===e||u===r.Lq.BLUE?(l=(s||i.Z).accent.blue,d=(s||i.Z).accent.blueLight):r.tf.MARKDOWN===e?(l=(s||i.Z).accent.sky,d=(s||i.Z).accent.skyLight):r.tf.SENSOR===e||u===r.Lq.PINK?(l=(s||i.Z).accent.pink,d=(s||i.Z).accent.pinkLight):r.tf.DBT===e?(l=(s||i.Z).accent.dbt,d=(s||i.Z).accent.dbtLight):r.tf.EXTENSION===e||u===r.Lq.TEAL?(l=((null===s||void 0===s?void 0:s.accent)||i.Z.accent).teal,d=((null===s||void 0===s?void 0:s.accent)||i.Z.accent).tealLight):r.tf.CALLBACK===e?(l=((null===s||void 0===s?void 0:s.accent)||i.Z.accent).rose,d=((null===s||void 0===s?void 0:s.accent)||i.Z.accent).roseLight):r.tf.CONDITIONAL===e||r.tf.SCRATCHPAD===e||u===r.Lq.GREY||r.tf.CUSTOM===e&&!u?(l=(s||i.Z).content.default,d=(s||i.Z).accent.contentDefaultTransparent):r.tf.GLOBAL_DATA_PRODUCT!==e||u||(l=(s||i.Z).monotone.white,d=(s||i.Z).monotone.whiteTransparent),{accent:l,accentLight:d}}var g=(0,o.css)([""," "," "," "," "," "," ",""],(0,a.eR)(),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat(v(e.blockType,e).accentLight,";\n  ")}),(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(v(e.blockType,e).accent,";\n  ")}),(function(e){return!e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.accent||i.Z.accent).negativeTransparent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).danger,";\n  ")}),(function(e){return e.dynamicBlock&&"\n    border-style: dashed !important;\n  "}),(function(e){return e.dynamicChildBlock&&"\n    border-style: dotted !important;\n  "})),m=o.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;position:relative;"],l.n_),b=o.default.div.withConfig({displayName:"indexstyle__HiddenBlockContainerStyle",componentId:"sc-s5rj34-1"})([""," border-radius:","px;border-style:",";border-width:","px;",""],g,l.n_,l.M8,l.mP,(function(e){return"\n    background-color: ".concat((e.theme||i.Z).background.content,";\n\n    &:hover {\n      border-color: ").concat(v(e.blockType,e).accent,";\n    }\n  ")})),x=o.default.div.withConfig({displayName:"indexstyle__HeaderHorizontalBorder",componentId:"sc-s5rj34-2"})(["",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme||i.Z).borders.darkLight,";\n  ")})),y=o.default.div.withConfig({displayName:"indexstyle__BlockHeaderStyle",componentId:"sc-s5rj34-3"})([""," border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:",";border-top-width:","px;border-left-style:",";border-left-width:","px;border-right-style:",";border-right-width:","px;padding-bottom:","px;padding-top:","px;"," "," "," ",""],g,l.n_,l.n_,l.M8,l.mP,l.M8,l.mP,l.M8,l.mP,1*c.iI,1*c.iI,(function(e){return"\n    background-color: ".concat((e.theme||i.Z).background.dashboard,";\n  ")}),(function(e){return"undefined"!==typeof e.zIndex&&null!==e.zIndex&&"\n    z-index: ".concat(6+(e.zIndex||0),";\n  ")}),(function(e){return!e.noSticky&&"\n    // This is to hide the horizontal scrollbar in the block header when sideBySide is enabled,\n    // and the screen width is too small.\n    position: sticky;\n    top: -5px;\n  "}),(function(e){return e.noSticky&&"\n    ".concat((0,u.y$)(),"\n\n    overflow-x: auto;\n    overflow-y: visible;\n  ")})),j=o.default.div.withConfig({displayName:"indexstyle__SubheaderStyle",componentId:"sc-s5rj34-4"})([""," "," ",""],(function(e){return!e.darkBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||i.Z.borders).darkLight,";\n  ")}),(function(e){return e.darkBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||i.Z.borders).medium,";\n  ")}),(function(e){return!e.noBackground&&"\n    background-color: ".concat((e.theme||i.Z).background.dashboard,";\n  ")})),Z=o.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-5"})([""," border-left-style:",";border-left-width:","px;border-right-style:",";border-right-width:","px;position:relative;"," "," "," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],g,l.M8,l.mP,l.M8,l.mP,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.noPadding&&"\n    padding-bottom: ".concat(c.iI,"px;\n    padding-top: ").concat(c.iI,"px;\n  ")}),(function(e){return e.lightBackground&&"\n    background-color: ".concat((e.theme||i.Z).background.content,";\n  ")}),(function(e){return!e.hideBorderBottom&&"\n    border-bottom-left-radius: ".concat(l.n_,"px;\n    border-bottom-right-radius: ").concat(l.n_,"px;\n    border-bottom-style: ").concat(l.M8,";\n    border-bottom-width: ").concat(l.mP,"px;\n    overflow: hidden;\n  ")})),A=o.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-6"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:8;&:hover{"," .block-divider-inner{","}}"," "," "," ",""],2*c.iI,(function(e){return e.additionalZIndex>0&&"\n      z-index: ".concat(8+e.additionalZIndex,";\n    ")}),(function(e){return"\n        background-color: ".concat((e.theme.text||i.Z.text).fileBrowser,";\n      ")}),(function(e){return!e.height&&"\n    height: ".concat(2*c.iI,"px;\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return!e.bottom&&"\n    bottom: ".concat(.5*c.iI,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")})),k=o.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-7"})(["height 1px;width:100%;position:absolute;z-index:-1;"," ",""],(function(e){return!e.top&&"\n    top: ".concat(1.5*c.iI,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")})),_=o.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-8"})([""," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||i.Z.borders).medium,";\n    padding-left: ").concat(e.normalPadding?c.iI:s,"px;\n  ")}),(function(e){return!e.noMargin&&"\n    margin-bottom: ".concat(1*c.iI,"px;\n    padding-bottom: ").concat(1*c.iI,"px;\n  ")})),O=o.default.div.withConfig({displayName:"indexstyle__TimeTrackerStyle",componentId:"sc-s5rj34-9"})(["bottom:","px;left:","px;position:absolute;"],1*c.iI,s),S=o.default.div.withConfig({displayName:"indexstyle__ScrollColunnsContainerStyle",componentId:"sc-s5rj34-10"})(["position:relative;",""],(function(e){return"\n    z-index: ".concat((null===e||void 0===e?void 0:e.zIndex)||1,";\n  ")})),C=o.default.div.attrs((function(e){var n=e.height,t=e.left,o=e.right,i=e.top;return{style:{position:"fixed",height:n,width:e.width,left:t,right:o,top:i,zIndex:(e.zIndex||0)+2}}})).withConfig({displayName:"indexstyle__ScrollColunnStyle",componentId:"sc-s5rj34-11"})([""])},94629:function(e,n,t){t.d(n,{Z:function(){return O}});var o=t(82394),i=t(21831),r=t(82684),l=t(50724),d=t(82555),c=t(97618),u=t(70613),a=t(68487),s=t(68899),h=t(28598);function p(e,n){var t=e.children,o=e.noPadding;return(0,h.jsx)(s.HS,{noPadding:o,ref:n,children:t})}var f=r.forwardRef(p),v=t(62547),g=t(82571),m=t(35686),b=t(98464),x=t(46684),y=t(70515),j=t(53808),Z=t(19183);function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(e,n){var t,o=e.addProjectBreadcrumbToCustomBreadcrumbs,p=e.after,A=e.afterHeader,_=e.afterHidden,O=e.afterWidth,S=e.afterWidthOverride,C=e.appendBreadcrumbs,R=e.before,E=e.beforeWidth,P=e.breadcrumbs,T=e.children,I=e.errors,w=e.headerMenuItems,D=e.headerOffset,L=e.hideAfterCompletely,N=e.mainContainerHeader,M=e.navigationItems,B=e.setAfterHidden,H=e.setErrors,U=e.subheaderChildren,W=e.subheaderNoPadding,F=e.title,K=e.uuid,z=(0,Z.i)().width,X="dashboard_after_width_".concat(K),Y="dashboard_before_width_".concat(K),G=(0,r.useRef)(null),V=(0,r.useState)(S?O:(0,j.U2)(X,O)),q=V[0],Q=V[1],J=(0,r.useState)(!1),$=J[0],ee=J[1],ne=(0,r.useState)(R?Math.max((0,j.U2)(Y,E),13*y.iI):null),te=ne[0],oe=ne[1],ie=(0,r.useState)(!1),re=ie[0],le=ie[1],de=(0,r.useState)(null)[1],ce=m.ZP.projects.list({},{revalidateOnFocus:!1}).data,ue=null===ce||void 0===ce?void 0:ce.projects,ae={label:function(){var e;return null===ue||void 0===ue||null===(e=ue[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},se=[];P&&(o&&se.push(ae),se.push.apply(se,(0,i.Z)(P))),(null===P||void 0===P||!P.length||C)&&(null===ue||void 0===ue?void 0:ue.length)>=1&&(null!==P&&void 0!==P&&P.length||se.unshift({bold:!C,label:function(){return F}}),se.unshift(ae)),(0,r.useEffect)((function(){null===G||void 0===G||!G.current||$||re||null===de||void 0===de||de(G.current.getBoundingClientRect().width)}),[$,q,re,te,G,de,z]),(0,r.useEffect)((function(){$||(0,j.t8)(X,q)}),[_,$,q,X]),(0,r.useEffect)((function(){re||(0,j.t8)(Y,te)}),[re,te,Y]);var he=(0,b.Z)(O);return(0,r.useEffect)((function(){S&&he!==O&&Q(O)}),[S,O,he]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{title:F}),(0,h.jsx)(a.Z,{breadcrumbs:se,menuItems:w,project:null===ue||void 0===ue?void 0:ue[0],version:null===ue||void 0===ue||null===(t=ue[0])||void 0===t?void 0:t.version}),(0,h.jsxs)(s.Nk,{ref:n,children:[0!==(null===M||void 0===M?void 0:M.length)&&(0,h.jsx)(s.lm,{showMore:!0,children:(0,h.jsx)(g.Z,{navigationItems:M,showMore:!0})}),(0,h.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,h.jsxs)(v.Z,{after:p,afterHeader:A,afterHeightOffset:x.Mz,afterHidden:_,afterMousedownActive:$,afterWidth:q,before:R,beforeHeightOffset:x.Mz,beforeMousedownActive:re,beforeWidth:s.k1+(R?te:0),headerOffset:D,hideAfterCompletely:!B||L,leftOffset:R?s.k1:null,mainContainerHeader:N,mainContainerRef:G,setAfterHidden:B,setAfterMousedownActive:ee,setAfterWidth:Q,setBeforeMousedownActive:le,setBeforeWidth:oe,children:[U&&(0,h.jsx)(f,{noPadding:W,children:U}),T]})})]}),I&&(0,h.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===H||void 0===H?void 0:H(null)},children:(0,h.jsx)(d.Z,k(k({},I),{},{onClose:function(){return null===H||void 0===H?void 0:H(null)}}))})]})}var O=r.forwardRef(_)},11364:function(e,n,t){t.d(n,{Z:function(){return Y}});var o=t(61049);function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,n,t){return r=i()?Reflect.construct:function(e,n,t){var i=[null];i.push.apply(i,n);var r=new(Function.bind.apply(e,i));return t&&(0,o.Z)(r,t.prototype),r},r.apply(null,arguments)}var l,d,c,u,a,s=t(21831),h=t(82394),p=t(75582),f=t(12691),v=t.n(f),g=t(38626),m=t(21764),b=t(82684),x=t(69864),y=t(34376),j=t(32013),Z=t(98777),A=t(71180),k=t(31882),_=t(97618),O=t(55485);!function(e){e.CREATE="create",e.DELETE="delete",e.DETAIL="detail",e.EXECUTE="execute",e.LIST="list",e.UPDATE="update",e.UPDATE_ANYWHERE="update_anywhere"}(l||(l={})),function(e){e.BREAK="break",e.CONTINUE="continue",e.RAISE="raise"}(d||(d={})),function(e){e.AFTER="after",e.BEFORE="before"}(c||(c={})),function(e){e.ERROR="error",e.META="meta",e.METADATA="metadata",e.PAYLOAD="payload",e.QUERY="query",e.RESOURCE="resource",e.RESOURCES="resources"}(u||(u={})),function(e){e.FAILURE="failure",e.SUCCESS="success"}(a||(a={}));var S=t(48670),C=t(57114),R=t(38276),E=t(30160),P=t(35686),T=t(72473),I=t(8193),w=t(70515),D=t(81728),L=t(3917),N=t(55283),M=t(50178),B=t(42122),H=t(86735),U=t(72619),W=t(70320),F=t(23780),K=t(28598);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,h.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y=function(e){var n,t,o,i,l,h,f,z,Y,G,V,q,Q,J,$,ee,ne,te,oe,ie,re,le,de=e.isNew,ce=e.operationType,ue=e.resourceType,ae=e.uuid,se=(0,W.q)(),he=(0,M.PR)(),pe=(0,y.useRouter)(),fe="GlobalHookDetail/".concat(ae),ve=(0,b.useContext)(g.ThemeContext),ge=(0,b.useState)(null),me=ge[0],be=ge[1],xe=(0,b.useState)(!1),ye=xe[0],je=xe[1],Ze=(0,b.useState)(ce),Ae=Ze[0],ke=(Ze[1],(0,b.useState)(ue)),_e=ke[0],Oe=(ke[1],(0,F.VI)(null,{},[],{uuid:fe})),Se=(0,p.Z)(Oe,1)[0],Ce=(0,b.useMemo)((function(){return(0,B.hB)({include_operation_types:1,include_resource_types:1,include_snapshot_validation:1,operation_type:"undefined"===typeof Ae?null:Ae,resource_type:"undefined"===typeof _e?null:_e})}),[Ae,_e]),Re=P.ZP.global_hooks.detail(de?"__new__":ae,Ce).data,Ee=(0,b.useMemo)((function(){return null===Re||void 0===Re?void 0:Re.global_hook}),[Re]),Pe=(0,b.useMemo)((function(){return{onErrorCallback:function(e){var n=e.error,t=n.errors,o=n.exception,i=n.message,r=n.type,l=e.response;return m.Am.error((null===t||void 0===t?void 0:t.error)||o||i,{position:m.Am.POSITION.BOTTOM_RIGHT,toastId:r}),Se({errors:t,response:l})}}}),[]),Te=(0,x.Db)(P.ZP.global_hooks.useCreate(),{onSuccess:function(e){return(0,U.wD)(e,X({callback:function(e){var n=e.global_hook;pe.replace("/global-hooks/".concat(n.uuid,"?operation_type=").concat(n.operation_type,"&resource_type=").concat(n.resource_type))}},Pe))}}),Ie=(0,p.Z)(Te,2),we=Ie[0],De=Ie[1].isLoading,Le=(0,x.Db)(P.ZP.global_hooks.useUpdate(null===Ee||void 0===Ee?void 0:Ee.uuid,Ce),{onSuccess:function(e){return(0,U.wD)(e,X({callback:function(e){var n=e.global_hook;Qe((function(e){return X(X({},e),n)})),m.Am.success("Global hook changes successfully saved.",{position:m.Am.POSITION.BOTTOM_RIGHT,toastId:"global-hooks-success-".concat(n.uuid)})}},Pe))}}),Ne=(0,p.Z)(Le,2),Me=Ne[0],Be=Ne[1].isLoading,He=(0,x.Db)((function(e){var n=e.pipeline;return P.ZP.global_hooks.useUpdate(null===Ee||void 0===Ee?void 0:Ee.uuid,Ce)({global_hook:{pipeline:n,snapshot:1}})}),{onSuccess:function(e){return(0,U.wD)(e,X({callback:function(e){var n=e.global_hook;Qe((function(e){return X(X({},e),{},{metadata:X(X({},null===e||void 0===e?void 0:e.metadata),null===n||void 0===n?void 0:n.metadata),pipeline:X(X({},null===e||void 0===e?void 0:e.pipeline),null===n||void 0===n?void 0:n.pipeline)})})),m.Am.success("Snapshot successfully created.",{position:m.Am.POSITION.BOTTOM_RIGHT,toastId:"global-hooks-snapshot-success-".concat(n.uuid)})}},Pe))}}),Ue=(0,p.Z)(He,2),We=Ue[0],Fe=Ue[1].isLoading,Ke=(0,x.Db)(P.ZP.global_hooks.useDelete(null===Ee||void 0===Ee?void 0:Ee.uuid,Ce),{onSuccess:function(e){return(0,U.wD)(e,X({callback:function(e){var n=e.global_hook;m.Am.success("Global hook changes successfully saved.",{position:m.Am.POSITION.BOTTOM_RIGHT,toastId:"global-hooks-success-".concat(n.uuid)}),pe.replace("/global-hooks")}},Pe))}}),ze=(0,p.Z)(Ke,2),Xe=ze[0],Ye=ze[1].isLoading,Ge=P.ZP.pipelines.list().data,Ve=(0,b.useMemo)((function(){return(0,H.YC)((null===Ge||void 0===Ge?void 0:Ge.pipelines)||[],(function(e){return e.name}))}),[Ge]),qe=(0,b.useMemo)((function(){return(0,H.HK)(Ve||[],(function(e){return e.uuid}))}),[Ve]),Qe=(0,b.useCallback)((function(e){be(e),je(!0)}),[be,je]);(0,b.useEffect)((function(){Ee&&!me&&be(Ee)}),[me,Ee,be]);var Je=(0,b.useMemo)((function(){return null!==me&&void 0!==me&&me.operation_type&&null!==me&&void 0!==me&&me.resource_type?"".concat((0,D.vg)(null===me||void 0===me?void 0:me.operation_type)," ").concat(null===me||void 0===me?void 0:me.resource_type," operation"):null!==me&&void 0!==me&&me.resource_type?"".concat(null===me||void 0===me?void 0:me.resource_type," operation"):null!==me&&void 0!==me&&me.operation_type?"".concat(null===me||void 0===me?void 0:me.operation_type," operation"):"operation"}),[me]),$e=(0,b.useMemo)((function(){var e;return null===qe||void 0===qe?void 0:qe[null===me||void 0===me||null===(e=me.pipeline)||void 0===e?void 0:e.uuid]}),[me,qe]),en=(0,b.useMemo)((function(){return(null===$e||void 0===$e?void 0:$e.blocks)||[]}),[$e]),nn=(0,b.useMemo)((function(){return(0,H.HK)(en||[],(function(e){return e.uuid}))}),[en]),tn=(0,b.useMemo)((function(){return(null===me||void 0===me?void 0:me.outputs)||[]}),[me]),on=(0,b.useCallback)((function(e,n){var t=(0,s.Z)(tn||[]);t[n]=e,Qe((function(e){return X(X({},e),{},{outputs:t})}))}),[tn,Qe]),rn=(0,b.useMemo)((function(){return(0,K.jsx)(A.ZP,{beforeIcon:(0,K.jsx)(T.mm,{}),compact:(null===tn||void 0===tn?void 0:tn.length)>=1,small:(null===tn||void 0===tn?void 0:tn.length)>=1,onClick:function(){return Qe((function(e){return X(X({},e),{},{outputs:((null===e||void 0===e?void 0:e.outputs)||[]).concat({block:{uuid:null},key:u.PAYLOAD})})}))},secondary:!0,children:"Add block output"})}),[tn,Qe]),ln=(0,b.useMemo)((function(){return null===tn||void 0===tn?void 0:tn.map((function(e,n){var t,o,i=e.block,r=e.key,l=e.keyMore,d=e.keys,c=null===nn||void 0===nn?void 0:nn[null===i||void 0===i?void 0:i.uuid];return o=c?(0,K.jsx)(v(),{as:"/pipelines/".concat(null===$e||void 0===$e?void 0:$e.uuid,"/edit?block_uuid=").concat(null===c||void 0===c?void 0:c.uuid),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,K.jsx)(S.Z,{block:!0,openNewWindow:!0,children:(0,K.jsx)(E.ZP,{color:(0,N.qn)(null===c||void 0===c?void 0:c.type,{blockColor:null===c||void 0===c?void 0:c.color,theme:ve}).accent,monospace:!0,children:(null===c||void 0===c?void 0:c.uuid)||"[select a block]"})})}):(0,K.jsx)(E.ZP,{default:!0,monospace:!0,children:(null===c||void 0===c?void 0:c.uuid)||(null===i||void 0===i?void 0:i.uuid)||"[select a block]"}),(0,K.jsxs)(Z.Z,{noBorderRadius:!0,noPaddingContent:!0,title:(0,K.jsxs)(O.ZP,{alignItems:"center",children:[o,(0,K.jsx)(R.Z,{mr:1}),(0,K.jsx)(T.Kw,{muted:!0}),(0,K.jsx)(R.Z,{mr:1}),(0,K.jsxs)(E.ZP,{default:!0,monospace:!0,children:[r||"{object}",(null===d||void 0===d?void 0:d.length)>=1&&(null===d||void 0===d?void 0:d.map((function(e){return(0,K.jsxs)(E.ZP,{default:!0,inline:!0,monospace:!0,children:["['",e,"']"]})})))]})]}),titleXPadding:w.cd*w.iI,titleYPadding:w.cd*w.iI,children:[(0,K.jsx)(C.S,{title:"Block to extract data from",description:"The output data from this block will be merged into the ".concat(Je,"\u2019s data."),selectInput:{monospace:!0,onChange:function(t){return on(X(X({},e),{},{block:X(X({},c),{},{uuid:t.target.value})}),n)},options:null===en||void 0===en?void 0:en.map((function(e){return{label:e.name,value:e.uuid}})),placeholder:"Select a block",value:null===c||void 0===c?void 0:c.uuid}},"block-uuid-".concat(n)),(0,K.jsx)(C.S,{title:"Object to merge block output data into",description:"Select the ".concat(Je," object to merge the block output data into."),selectInput:{monospace:!0,onChange:function(t){return on(X(X({},e),{},{key:t.target.value}),n)},options:null===(t=Object.values(u))||void 0===t?void 0:t.map((function(e){return{label:e,value:e}})),placeholder:"Select an object",value:r}},"key-".concat(n)),(0,K.jsxs)(C.S,{title:"Additional dictionary keys",description:(0,K.jsxs)(E.ZP,{muted:!0,small:!0,children:["If there is a nested object or value in the $",Je," data that you want to merge the block output data into,",(0,K.jsx)("br",{}),"use these additional keys to instruct the hook on how nested you want to merge the block output data."]}),textInput:{fullWidth:!1,monospace:!0,placeholder:"optional",onChange:function(t){return on(X(X({},e),{},{keyMore:t.target.value}),n)},value:l},children:[null===d||void 0===d?void 0:d.map((function(t){return(0,K.jsx)(R.Z,{ml:1,children:(0,K.jsx)(k.Z,{border:!0,label:t,monospace:!0,onClick:function(){on(X(X({},e),{},{keys:(d||[]).filter((function(e){return e!==t}))}),n)}})},"keys-".concat(n,"-").concat(t))})),(null===d||void 0===d?void 0:d.length)>=1&&(0,K.jsx)(R.Z,{mr:w.cd}),l&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(A.ZP,{compact:!0,small:!0,onClick:function(){on(X(X({},e),{},{keyMore:"",keys:(d||[]).concat(l)}),n)},children:["Add key ",l]}),(0,K.jsx)(R.Z,{mr:w.cd})]})]},"keys-".concat(n))]})}))}),[en,nn,tn,$e,on]),dn=(0,b.useMemo)((function(){return(0,B.GL)(me||{},["conditions","operation_type","outputs","pipeline","predicates","resource_type","run_settings","stages","strategies"])}),[me]),cn=(0,b.useMemo)((function(){return(null===me||void 0===me?void 0:me.metadata)||{created_at:null,snapshot_hash:null,snapshot_valid:!1,snapshotted_at:null,updated_at:null,user:{id:null}}}),[me]);return(0,K.jsxs)(R.Z,{mb:8,p:w.cd,children:[(0,K.jsxs)(C.Z,{title:"What to run hook for",children:[(0,K.jsx)(C.S,{description:"This hook\u2019s UUID must be unique across all hooks for the same resource type and operation type.",invalid:ye&&!(null!==me&&void 0!==me&&me.uuid),textInput:de?{monospace:!0,onChange:function(e){return Qe((function(n){return X(X({},n),{},{uuid:e.target.value})}))},placeholder:"e.g. bootstrap pipeline blocks",value:null===me||void 0===me?void 0:me.uuid}:null,title:"Hook UUID",children:!de&&(0,K.jsx)(R.Z,{px:w.cd,children:(0,K.jsx)(E.ZP,{large:!0,monospace:!0,children:ae})})}),(0,K.jsx)(C.S,{description:"Select the resource this hook should be attached to.",invalid:ye&&!(null!==me&&void 0!==me&&me.resource_type),selectInput:{monospace:!0,onChange:function(e){return Qe((function(n){return X(X({},n),{},{resource_type:e.target.value})}))},options:null===me||void 0===me||null===(n=me.resource_types)||void 0===n?void 0:n.map((function(e){return{label:(0,D.j3)(e),value:e}})),placeholder:"e.g. Pipeline",value:null===me||void 0===me?void 0:me.resource_type},title:"Resource type"}),(0,K.jsx)(C.S,{description:"When a specific operation occurs for a given resource, this hook will be invoked for that specific operation on the configured resource.",invalid:ye&&!(null!==me&&void 0!==me&&me.operation_type),selectInput:{monospace:!0,onChange:function(e){return Qe((function(n){return X(X({},n),{},{operation_type:e.target.value})}))},options:null===me||void 0===me||null===(t=me.operation_types)||void 0===t?void 0:t.map((function(e){return{label:(0,D.vg)(e),value:e}})),placeholder:"e.g. Update",value:null===me||void 0===me?void 0:me.operation_type},title:"Operation type"})]}),!de&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(R.Z,{mb:w.cd}),(0,K.jsxs)(C.Z,{title:"When to run hook",children:[(0,K.jsx)(C.S,{title:"Before operation starts",description:"If enabled, this hook will be invoked before the ".concat(Je," starts."),toggleSwitch:{checked:null===me||void 0===me||null===(o=me.stages)||void 0===o?void 0:o.includes(c.BEFORE),onCheck:function(e){return Qe((function(n){var t,o;return X(X({},n),{},{stages:e(null===n||void 0===n||null===(t=n.stages)||void 0===t?void 0:t.includes(c.BEFORE))?Array.from(r(Set,[((null===n||void 0===n?void 0:n.stages)||[]).concat(c.BEFORE)])):(null===n||void 0===n||null===(o=n.stages)||void 0===o?void 0:o.filter((function(e){return e!==c.BEFORE})))||[]})}))}}}),(0,K.jsx)(C.S,{title:"After operation completes",description:"If enabled, this hook will be invoked after the ".concat(Je," ends."),toggleSwitch:{checked:null===me||void 0===me||null===(i=me.stages)||void 0===i?void 0:i.includes(c.AFTER),onCheck:function(e){return Qe((function(n){var t,o;return X(X({},n),{},{stages:e(null===n||void 0===n||null===(t=n.stages)||void 0===t?void 0:t.includes(c.AFTER))?Array.from(r(Set,[((null===n||void 0===n?void 0:n.stages)||[]).concat(c.AFTER)])):(null===n||void 0===n||null===(o=n.stages)||void 0===o?void 0:o.filter((function(e){return e!==c.AFTER})))||[]})}))}}}),(0,K.jsx)(C.S,{title:"Run if ".concat(Je," succeeds"),description:"If enabled, this hook will be invoked if the ".concat(Je," is successful and doesn\u2019t error."),toggleSwitch:{checked:null===me||void 0===me||null===(l=me.conditions)||void 0===l?void 0:l.includes(a.SUCCESS),onCheck:function(e){return Qe((function(n){var t,o;return X(X({},n),{},{conditions:e(null===n||void 0===n||null===(t=n.conditions)||void 0===t?void 0:t.includes(a.SUCCESS))?Array.from(r(Set,[((null===n||void 0===n?void 0:n.conditions)||[]).concat(a.SUCCESS)])):(null===n||void 0===n||null===(o=n.conditions)||void 0===o?void 0:o.filter((function(e){return e!==a.SUCCESS})))||[]})}))}}}),(0,K.jsx)(C.S,{title:"Run if ".concat(Je," fails"),description:"If enabled, this hook will be invoked if the ".concat(Je," fails with an error."),toggleSwitch:{checked:null===me||void 0===me||null===(h=me.conditions)||void 0===h?void 0:h.includes(a.FAILURE),onCheck:function(e){return Qe((function(n){var t,o;return X(X({},n),{},{conditions:e(null===n||void 0===n||null===(t=n.conditions)||void 0===t?void 0:t.includes(a.FAILURE))?Array.from(r(Set,[((null===n||void 0===n?void 0:n.conditions)||[]).concat(a.FAILURE)])):(null===n||void 0===n||null===(o=n.conditions)||void 0===o?void 0:o.filter((function(e){return e!==a.FAILURE})))||[]})}))}}})]}),(0,K.jsx)(R.Z,{mb:w.cd}),(0,K.jsxs)(C.Z,{title:"Code to run",description:"When the current hook gets triggered, it will execute the associated pipeline.",children:[(0,K.jsx)(C.S,{title:"Pipeline to execute",description:"Select a pipeline that will be executed every time this hook is triggered.",invalid:ye&&!(null!==me&&void 0!==me&&null!==(f=me.pipeline)&&void 0!==f&&f.uuid),selectInput:{monospace:!0,onChange:function(e){return Qe((function(n){return X(X({},n),{},{pipeline:X(X({},null===n||void 0===n?void 0:n.pipeline),{},{uuid:e.target.value})})}))},options:null===Ve||void 0===Ve?void 0:Ve.map((function(e){var n=e.name,t=e.uuid;return{label:n||t,value:t}})),placeholder:"Select a pipeline",value:null===me||void 0===me||null===(z=me.pipeline)||void 0===z?void 0:z.uuid}}),(0,K.jsxs)(C.S,{title:null===me||void 0===me||null===(Y=me.pipeline)||void 0===Y||!Y.uuid||null!==cn&&void 0!==cn&&cn.snapshot_hash||null!==cn&&void 0!==cn&&cn.snapshot_valid?"Valid code snapshot":"Code snapshot hasn\u2019t been created yet",description:(0,K.jsx)(K.Fragment,{children:(0,K.jsxs)(E.ZP,{muted:!0,small:!0,children:["Take a snapshot of ",null!==me&&void 0!==me&&null!==(G=me.pipeline)&&void 0!==G&&G.uuid?(0,K.jsx)(E.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:null===me||void 0===me||null===(V=me.pipeline)||void 0===V?void 0:V.uuid}):"the associated pipeline","\u2019s code. The snapshot is used to validate the hook before it runs.",(0,K.jsx)("br",{}),"A hook cannot run if ",null!==me&&void 0!==me&&null!==(q=me.pipeline)&&void 0!==q&&q.uuid?(0,K.jsx)(E.ZP,{default:!0,inline:!0,monospace:!0,small:!0,children:null===me||void 0===me||null===(Q=me.pipeline)||void 0===Q?void 0:Q.uuid}):"the associated pipeline","\u2019s code has changed after the most recent snapshot has been made.",(0,K.jsx)("br",{}),"If the code changes, a new snapshot must be created."]})}),invalid:(null===me||void 0===me||null===(J=me.pipeline)||void 0===J?void 0:J.uuid)&&(null===cn||void 0===cn?void 0:cn.snapshot_hash)&&!(null!==cn&&void 0!==cn&&cn.snapshot_valid),warning:(null===me||void 0===me||null===($=me.pipeline)||void 0===$?void 0:$.uuid)&&!(null!==cn&&void 0!==cn&&cn.snapshot_hash)&&!(null!==cn&&void 0!==cn&&cn.snapshot_valid),children:[!(null!==cn&&void 0!==cn&&cn.snapshot_hash)&&(0,K.jsx)(E.ZP,{default:!0,large:!0,children:null!==me&&void 0!==me&&null!==(ee=me.pipeline)&&void 0!==ee&&ee.uuid?"No snapshot has been created":"Select a pipeline before taking a snapshot"}),(null===cn||void 0===cn?void 0:cn.snapshot_hash)&&(0,K.jsx)(O.ZP,{flexDirection:"column",children:(0,K.jsx)(E.ZP,{danger:!(null!==cn&&void 0!==cn&&cn.snapshot_valid),large:!0,rightAligned:!0,success:null===cn||void 0===cn?void 0:cn.snapshot_valid,children:null!==cn&&void 0!==cn&&cn.snapshot_valid?"Snapshot valid":"Snapshot outdated"})})]}),(0,K.jsx)(R.Z,{p:w.cd,children:(0,K.jsx)(O.ZP,{alignItems:"center",justifyContent:"flex-end",children:(0,K.jsxs)(O.ZP,{alignItems:"center",children:[(null===cn||void 0===cn?void 0:cn.snapshotted_at)&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsxs)(E.ZP,{muted:!0,rightAligned:!0,small:!0,children:["Last snapshot at ",(0,K.jsx)(E.ZP,{inline:!0,muted:!0,small:!0,monospace:!0,children:null===cn||void 0===cn?void 0:cn.snapshotted_at})]}),(0,K.jsx)(R.Z,{mr:w.cd})]}),(0,K.jsx)(A.ZP,{disabled:!(null!==me&&void 0!==me&&null!==(ne=me.pipeline)&&void 0!==ne&&ne.uuid),loading:Fe,onClick:function(){return We({pipeline:null===me||void 0===me?void 0:me.pipeline})},primary:!(null!==cn&&void 0!==cn&&cn.snapshot_valid),secondary:null===cn||void 0===cn?void 0:cn.snapshot_valid,children:null!==cn&&void 0!==cn&&cn.snapshot_hash?null!==cn&&void 0!==cn&&cn.snapshot_valid?"Update snapshot even though it\u2019s valid":"Update snapshot to make it valid":"Create snapshot of code"})]})})})]}),(0,K.jsx)(R.Z,{mb:w.cd}),(0,K.jsxs)(C.Z,{title:"How to run hook",children:[(0,K.jsx)(C.S,{title:"Stop operation if hook fails",description:"If enabled, the ".concat(Je," will be cancelled and an error will be raised."),toggleSwitch:{checked:null===me||void 0===me||null===(te=me.strategies)||void 0===te?void 0:te.includes(d.RAISE),onCheck:function(e){return Qe((function(n){var t,o;return X(X({},n),{},{strategies:e(null===n||void 0===n||null===(t=n.strategies)||void 0===t?void 0:t.includes(d.RAISE))?Array.from(r(Set,[((null===n||void 0===n?void 0:n.strategies)||[]).concat(d.RAISE)])):(null===n||void 0===n||null===(o=n.strategies)||void 0===o?void 0:o.filter((function(e){return e!==d.RAISE})))||[]})}))}}}),(0,K.jsx)(C.S,{title:"Execute hook with history and logging",description:(0,K.jsxs)(E.ZP,{muted:!0,small:!0,children:["If enabled, anytime this hook is executed an associated pipeline run and block runs will be created.",(0,K.jsx)("br",{}),"This will provide a history of the hook execution as well as logging for observability.",(0,K.jsx)("br",{}),"However, this will have a significant impact on the ",Je," resolution time.",(0,K.jsx)("br",{}),"This may cause very delayed API responsed and a degraded devloper experience."]}),toggleSwitch:{checked:!(null===me||void 0===me||null===(oe=me.run_settings)||void 0===oe||!oe.with_trigger),onCheck:function(e){return Qe((function(n){var t;return X(X({},n),{},{run_settings:X(X({},null===n||void 0===n?void 0:n.run_settings),{},{with_trigger:e(null===n||void 0===n||null===(t=n.run_settings)||void 0===t?void 0:t.with_trigger)})})}))}}})]}),(0,K.jsx)(R.Z,{mb:w.cd}),(0,K.jsxs)(C.Z,{title:"Block outputs ".concat((null===tn||void 0===tn?void 0:tn.length)>=1?"(".concat((null===tn||void 0===tn?void 0:tn.length)||0,")"):""),description:(0,K.jsx)(R.Z,{mt:1,children:(0,K.jsxs)(E.ZP,{muted:!0,children:["When a hook runs and executes a pipeline, the output from the pipeline\u2019s blocks",(0,K.jsx)("br",{}),"can optionally be used to mutate the ",Je," input and output data."]})}),headerChildren:(null===tn||void 0===tn?void 0:tn.length)>=1&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(R.Z,{ml:w.cd}),rn]}),children:[!(null!==tn&&void 0!==tn&&tn.length)&&(0,K.jsx)(R.Z,{p:w.cd,children:rn}),(null===tn||void 0===tn?void 0:tn.length)>=1&&(0,K.jsx)(j.Z,{noBorder:!0,noBoxShadow:!0,children:ln})]}),(0,K.jsx)(R.Z,{mb:w.cd}),(0,K.jsxs)(C.Z,{title:"Metadata",children:[(0,K.jsx)(C.S,{title:"Last updated",children:(0,K.jsxs)(_.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,K.jsx)(E.ZP,{large:!0,monospace:!0,muted:!0,children:null!==cn&&void 0!==cn&&cn.updated_at?(0,L.XG)(null===cn||void 0===cn?void 0:cn.updated_at,se):"-"}),(0,K.jsx)(R.Z,{mr:w.cd}),(0,K.jsx)(T.Pf,{muted:!0,size:I.Z}),(0,K.jsx)(R.Z,{mr:1})]})}),(0,K.jsx)(C.S,{title:"Created at",children:(0,K.jsxs)(_.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,K.jsx)(E.ZP,{large:!0,monospace:!0,muted:!0,children:null!==cn&&void 0!==cn&&cn.created_at?(0,L.XG)(null===cn||void 0===cn?void 0:cn.created_at,se):"-"}),(0,K.jsx)(R.Z,{mr:w.cd}),(0,K.jsx)(T.Pf,{muted:!0,size:I.Z}),(0,K.jsx)(R.Z,{mr:1})]})}),(0,K.jsx)(C.S,{title:"Snapshotted at",children:(0,K.jsxs)(_.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,K.jsx)(E.ZP,{large:!0,monospace:!0,muted:!0,children:null!==cn&&void 0!==cn&&cn.snapshotted_at?(0,L.XG)(null===cn||void 0===cn?void 0:cn.snapshotted_at,se):"-"}),(0,K.jsx)(R.Z,{mr:w.cd}),(0,K.jsx)(T.Pf,{muted:!0,size:I.Z}),(0,K.jsx)(R.Z,{mr:1})]})}),(0,K.jsx)(C.S,{title:"Snapshot valid",children:(0,K.jsxs)(_.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,K.jsx)(E.ZP,{large:!0,danger:!(null!==cn&&void 0!==cn&&cn.snapshot_valid),muted:null===cn||void 0===cn?void 0:cn.snapshot_valid,children:null!==cn&&void 0!==cn&&cn.snapshot_valid?"Valid":"Hook won\u2019t run until snapshot is valid"}),(0,K.jsx)(R.Z,{mr:w.cd}),null!==cn&&void 0!==cn&&cn.snapshot_valid?(0,K.jsx)(T.Jr,{size:I.Z,success:!0}):(0,K.jsx)(T.uy,{danger:!0,size:I.Z}),(0,K.jsx)(R.Z,{mr:1})]})}),(0,K.jsx)(C.S,{title:"Created by",children:(0,K.jsxs)(_.Z,{alignItems:"center",flex:1,justifyContent:"flex-end",children:[(0,K.jsx)(E.ZP,{large:!0,monospace:!0,muted:!0,children:null!==cn&&void 0!==cn&&null!==(ie=cn.user)&&void 0!==ie&&ie.id?String(null===cn||void 0===cn||null===(re=cn.user)||void 0===re?void 0:re.id)===String(null===he||void 0===he?void 0:he.id)?"You created this hook":"User ID ".concat(null===cn||void 0===cn||null===(le=cn.user)||void 0===le?void 0:le.id):"-"}),(0,K.jsx)(R.Z,{mr:w.cd}),(0,K.jsx)(T.SC,{muted:!0,size:I.Z}),(0,K.jsx)(R.Z,{mr:1})]})})]})]}),(0,K.jsx)(R.Z,{mt:w.HN,children:(0,K.jsxs)(O.ZP,{alignItems:"center",justifyContent:"space-between",children:[!de&&(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(A.ZP,{compact:!0,danger:!0,loading:Ye,onClick:function(){window.confirm("Are you sure you wantt to delete this hook?")&&Xe()},small:!0,children:"Delete global hook"}),(0,K.jsx)(R.Z,{mr:w.cd})]}),(0,K.jsxs)(_.Z,{flex:1,justifyContent:"flex-end",children:[(0,K.jsx)(A.ZP,{beforeIcon:(0,K.jsx)(T.Hd,{}),disabled:De||Be||Ye,onClick:function(){return pe.push("/global-hooks")},secondary:!0,children:ye?"Cancel changes & go back":"Go back to all hooks"}),(0,K.jsx)(R.Z,{mr:w.cd}),(0,K.jsx)(A.ZP,{beforeIcon:(0,K.jsx)(T.vc,{}),disabled:Ye,loading:De||Be,onClick:function(){return(de?we:Me)({global_hook:X(X({},dn),de?{uuid:null===me||void 0===me?void 0:me.uuid}:{})})},primary:!0,children:de?"Create new global hook":"Save changes"})]})]})})]})}},70320:function(e,n,t){t.d(n,{h:function(){return l},q:function(){return r}});var o=t(78419),i=t(53808);function r(){return(0,i.U2)(o.am,null)||!1}function l(e){return"undefined"!==typeof e&&(0,i.t8)(o.am,e),e}},57114:function(e,n,t){t.d(n,{S:function(){return j},Z:function(){return Z}});var o=t(82684),i=t(15338),r=t(97618),l=t(55485),d=t(85854),c=t(65956),u=t(82394),a=t(44085),s=t(38276),h=t(30160),p=t(17488),f=t(69650),v=t(72473),g=t(8193),m=t(70515),b=t(28598);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e){var n,t=e.children,o=e.description,i=e.invalid,d=e.selectInput,c=e.textInput,u=e.title,x=e.toggleSwitch,j=e.warning;return(0,b.jsx)(s.Z,{p:m.cd,children:(0,b.jsxs)(l.ZP,{alignItems:"center",children:[(0,b.jsxs)(l.ZP,{flexDirection:"column",children:[(0,b.jsxs)(h.ZP,{danger:i,default:!0,large:!0,warning:j,children:[u," ",i&&(0,b.jsx)(h.ZP,{danger:!0,inline:!0,large:!0,children:"is required"})]}),o&&"string"===typeof o&&(0,b.jsx)(h.ZP,{muted:!0,small:!0,children:o}),o&&"string"!==typeof o&&o]}),(0,b.jsx)(s.Z,{mr:m.cd}),(0,b.jsxs)(r.Z,{flex:1,justifyContent:"flex-end",children:[t,c&&(0,b.jsx)(p.Z,y({afterIcon:(0,b.jsx)(v.I8,{}),afterIconClick:function(e,n){var t;null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus()},afterIconSize:g.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,fullWidth:!0,paddingHorizontal:0,paddingVertical:0,setContentOnMount:!0},c)),d&&(0,b.jsx)(a.Z,y(y({},d),{},{afterIcon:(0,b.jsx)(v._M,{}),afterIconSize:g.Z,alignRight:!0,autoComplete:"off",large:!0,noBackground:!0,noBorder:!0,paddingHorizontal:0,paddingVertical:0,setContentOnMount:!0,children:null===d||void 0===d||null===(n=d.options)||void 0===n?void 0:n.map((function(e){var n=e.label,t=e.value;return(0,b.jsx)("option",{value:t,children:n||t},t)}))})),x&&(0,b.jsx)(f.Z,{checked:!(null===x||void 0===x||!x.checked),compact:!0,onCheck:null===x||void 0===x?void 0:x.onCheck})]})]})})},Z=function(e){var n=e.children,t=e.description,u=e.headerChildren,a=e.title;return(0,b.jsxs)(c.Z,{noPadding:!0,children:[(0,b.jsx)(s.Z,{p:m.cd,children:(0,b.jsxs)(l.ZP,{alignItems:"center",children:[(0,b.jsxs)(r.Z,{flex:1,flexDirection:"column",children:[(0,b.jsx)(d.Z,{level:4,children:a}),t&&"string"===typeof t&&(0,b.jsx)(s.Z,{mt:1,children:(0,b.jsx)(h.ZP,{muted:!0,children:t})}),t&&"string"!==typeof t&&t]}),u]})}),o.Children.map(n,(function(e,n){return(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Z,{light:!0}),e]},"".concat(a,"-").concat(n))}))]})}},8193:function(e,n,t){t.d(n,{N:function(){return c},Z:function(){return d}});var o=t(38626),i=t(44897),r=t(42631),l=t(70515),d=2*l.iI,c=o.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1ck7mzt-0"})(["border-radius:","px;padding:","px;",""],r.n_,l.cd*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeArea,";\n  ")}))},44425:function(e,n,t){t.d(n,{$W:function(){return m},DA:function(){return v},HX:function(){return j},J8:function(){return y},L8:function(){return d},LE:function(){return h},Lk:function(){return k},Lq:function(){return p},M5:function(){return f},Q3:function(){return b},Qj:function(){return Z},Ut:function(){return S},V4:function(){return O},VZ:function(){return x},dO:function(){return s},f2:function(){return _},iZ:function(){return A},t6:function(){return c},tf:function(){return a}});var o,i,r,l,d,c,u=t(82394);!function(e){e.CONDITION="condition",e.DBT_SNAPSHOT="snapshot",e.DYNAMIC="dynamic",e.DYNAMIC_CHILD="dynamic_child",e.REDUCE_OUTPUT="reduce_output",e.REPLICA="replica"}(d||(d={})),function(e){e.MARKDOWN="markdown",e.PYTHON="python",e.R="r",e.SQL="sql",e.YAML="yaml"}(c||(c={}));var a,s=(o={},(0,u.Z)(o,c.MARKDOWN,"MD"),(0,u.Z)(o,c.PYTHON,"PY"),(0,u.Z)(o,c.R,"R"),(0,u.Z)(o,c.SQL,"SQL"),(0,u.Z)(o,c.YAML,"YAML"),o),h=(i={},(0,u.Z)(i,c.MARKDOWN,"Markdown"),(0,u.Z)(i,c.PYTHON,"Python"),(0,u.Z)(i,c.R,"R"),(0,u.Z)(i,c.SQL,"SQL"),(0,u.Z)(i,c.YAML,"YAML"),i);!function(e){e.CALLBACK="callback",e.CHART="chart",e.CONDITIONAL="conditional",e.CUSTOM="custom",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.DBT="dbt",e.EXTENSION="extension",e.GLOBAL_DATA_PRODUCT="global_data_product",e.SCRATCHPAD="scratchpad",e.SENSOR="sensor",e.MARKDOWN="markdown",e.TRANSFORMER="transformer"}(a||(a={}));var p,f=[a.CALLBACK,a.CONDITIONAL,a.EXTENSION];!function(e){e.BLUE="blue",e.GREY="grey",e.PINK="pink",e.PURPLE="purple",e.TEAL="teal",e.YELLOW="yellow"}(p||(p={}));var v,g,m=[a.CHART,a.CUSTOM,a.DATA_EXPORTER,a.DATA_LOADER,a.SCRATCHPAD,a.SENSOR,a.MARKDOWN,a.TRANSFORMER],b=[a.CUSTOM,a.DATA_EXPORTER,a.DATA_LOADER,a.SCRATCHPAD,a.SENSOR,a.MARKDOWN,a.TRANSFORMER],x=[a.DATA_EXPORTER,a.DATA_LOADER],y=[a.DATA_EXPORTER,a.DATA_LOADER,a.TRANSFORMER],j=[a.DATA_EXPORTER,a.DATA_LOADER,a.DBT,a.TRANSFORMER],Z=[a.CHART,a.SCRATCHPAD,a.SENSOR,a.MARKDOWN],A=[a.CALLBACK,a.CHART,a.EXTENSION,a.SCRATCHPAD,a.MARKDOWN],k=[a.CUSTOM,a.DATA_EXPORTER,a.DATA_LOADER,a.SENSOR,a.TRANSFORMER];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(v||(v={})),function(e){e.BLOCK_FILE="block_file",e.CUSTOM_BLOCK_TEMPLATE="custom_block_template",e.MAGE_TEMPLATE="mage_template"}(g||(g={}));var _=[a.CUSTOM,a.DATA_EXPORTER,a.DATA_LOADER,a.TRANSFORMER],O=(r={},(0,u.Z)(r,a.CALLBACK,"Callback"),(0,u.Z)(r,a.CHART,"Chart"),(0,u.Z)(r,a.CONDITIONAL,"Conditional"),(0,u.Z)(r,a.CUSTOM,"Custom"),(0,u.Z)(r,a.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,a.DATA_LOADER,"Data loader"),(0,u.Z)(r,a.DBT,"DBT"),(0,u.Z)(r,a.EXTENSION,"Extension"),(0,u.Z)(r,a.GLOBAL_DATA_PRODUCT,"Global data product"),(0,u.Z)(r,a.MARKDOWN,"Markdown"),(0,u.Z)(r,a.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,a.SENSOR,"Sensor"),(0,u.Z)(r,a.TRANSFORMER,"Transformer"),r),S=[a.DATA_LOADER,a.TRANSFORMER,a.DATA_EXPORTER,a.SENSOR];l={},(0,u.Z)(l,a.DATA_EXPORTER,"DE"),(0,u.Z)(l,a.DATA_LOADER,"DL"),(0,u.Z)(l,a.SCRATCHPAD,"SP"),(0,u.Z)(l,a.SENSOR,"SR"),(0,u.Z)(l,a.MARKDOWN,"MD"),(0,u.Z)(l,a.TRANSFORMER,"TF")},31882:function(e,n,t){var o=t(38626),i=t(71180),r=t(55485),l=t(30160),d=t(44897),c=t(72473),u=t(70515),a=t(61896),s=t(28598),h=o.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||d.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||d.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((u.iI+a.Al)/2,"px;\n    height: ").concat(1.5*u.iI+a.Al,"px;\n    padding: ").concat(u.iI/1.5,"px ").concat(1.25*u.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((u.iI/2+a.Al)/2,"px;\n    height: ").concat(a.Al+u.iI/2+2,"px;\n    padding: ").concat(u.iI/4,"px ").concat(u.iI,"px;\n  ")}),(function(e){return e.xsmall&&"\n    border-radius: ".concat((u.iI/1+a.Al)/1,"px;\n    height: ").concat(20,"px;\n    padding: 4px 6px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||d.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,o=e.disabled,d=e.label,a=e.monospace,p=e.onClick,f=e.primary,v=e.small,g=e.xsmall;return(0,s.jsx)(h,{border:n,primary:f,small:v,xsmall:g,children:(0,s.jsx)(i.ZP,{basic:!0,disabled:o,noBackground:!0,noPadding:!0,onClick:p,transparent:!0,children:(0,s.jsxs)(r.ZP,{alignItems:"center",children:[t,d&&(0,s.jsx)(l.ZP,{monospace:a,small:v,xsmall:g,children:d}),!o&&p&&(0,s.jsx)("div",{style:{marginLeft:2}}),!o&&p&&(0,s.jsx)(c.x8,{default:f,muted:!f,size:v?u.iI:1.25*u.iI})]})})})}},65956:function(e,n,t){var o=t(38626),i=t(55485),r=t(38276),l=t(30160),d=t(44897),c=t(42631),u=t(47041),a=t(70515),s=t(28598),h=(0,o.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*a.iI,1.5*a.iI,1.5*a.iI),p=o.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],c.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||d.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||d.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||d.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||d.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||d.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),f=o.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],c.n_,c.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||d.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||d.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),h,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),v=o.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*a.iI,u.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*a.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),g=o.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],c.M8,c.YF,1.75*a.iI);n.Z=function(e){var n=e.borderless,t=e.children,o=e.containerRef,d=e.contentContainerRef,c=e.dark,u=e.footer,a=e.fullHeight,h=void 0===a||a,m=e.fullWidth,b=void 0===m||m,x=e.header,y=e.headerHeight,j=e.headerIcon,Z=e.headerPaddingVertical,A=e.headerTitle,k=e.maxHeight,_=e.maxWidth,O=e.minWidth,S=e.noPadding,C=e.overflowVisible,R=e.subtitle,E=e.success;return(0,s.jsxs)(p,{borderless:n,dark:c,fullHeight:h,fullWidth:b,maxHeight:k,maxWidth:_,minWidth:O,overflowVisible:C,ref:o,success:E,children:[(x||A)&&(0,s.jsxs)(f,{headerPaddingVertical:Z,height:y,children:[x&&x,A&&(0,s.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,s.jsxs)(i.ZP,{alignItems:"center",children:[j&&j,(0,s.jsx)(r.Z,{ml:j?1:0,children:(0,s.jsx)(l.ZP,{bold:!0,default:!0,children:A})})]})})]}),(0,s.jsxs)(v,{maxHeight:k,noPadding:S,overflowVisible:C,ref:d,children:[R&&(0,s.jsx)(r.Z,{mb:2,children:(0,s.jsx)(l.ZP,{default:!0,children:R})}),t]}),u&&(0,s.jsx)(g,{children:u})]})}},80022:function(e,n,t){function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return o}})},15544:function(e,n,t){function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}t.d(n,{Z:function(){return o}})},13692:function(e,n,t){t.d(n,{Z:function(){return i}});var o=t(61049);function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,o.Z)(e,n)}},93189:function(e,n,t){t.d(n,{Z:function(){return r}});var o=t(12539),i=t(80022);function r(e,n){if(n&&("object"===o(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,n,t){function o(e,n){return o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},o(e,n)}t.d(n,{Z:function(){return o}})}}]);