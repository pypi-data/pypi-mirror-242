from csv_detective.process_text import _process_text

PROPORTION = 0.55


def _is(val):
    '''Repere des adresses'''
    # ajouts d'espaces en fin de mots pour s'assurer que le str n'est pas juste une substr d'un mot plus long
    voies = {
        'Aire ',
        'Allee ',
        'Avenue ',
        'Base ',
        'Boulevard ',
        'Cami ',
        'Carrefour ',
        'Chemin ',
        'Cheminement ',
        'Chaussee ',
        'Cite ',
        'Clos ',
        'Coin ',
        'Corniche ',
        'Cote ',
        'Cour ',
        'Cours ',
        'Domaine ',
        'Descente ',
        'Ecart ',
        'Esplanade ',
        'Faubourg ',
        'Gare ',
        'Grande Rue',
        'Hameau ',
        'Halle ',
        'Ilot ',
        'Impasse ',
        'Lieu dit',
        'Lotissement ',
        'Marche ',
        'Montee ',
        'Parc ',
        'Passage ',
        'Place ',
        'Plan ',
        'Plaine ',
        'Plateau ',
        'Pont ',
        'Port ',
        'Promenade ',
        'Parvis ',
        'Quartier ',
        'Quai ',
        'Residence ',
        'Ruelle ',
        'Rocade ',
        'Rond Point',
        'Route ',
        'Rue ',
        'Sente - Sentier',
        'Square ',
        'Tour ',
        'Terre-plein',
        'Traverse ',
        'Villa ',
        'Village ',
        'Voie ',
        'Zone artisanale',
        'Zone d’amenagement concerte',
        'Zone d’amenagement differe',
        'Zone industrielle',
        'Zone ',
        # 'r',
        'av ',
        'pl ',
        'bd ',
        'cami ',
        # 'che',
        'chs ',
        'dom ',
        'ham ',
        'ld ',
        # 'pro',
        # 'rte',
        'vlge ',
        'za ',
        'zac ',
        'zad ',
        'zi ',
        # 'car',
        'fg ',
        # 'lot',
        'imp ',
        # 'qu',
        'mte'
    }

    val = _process_text(val)
    return any([x.lower() in val for x in voies])
