"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8446],{55447:function(e,t,n){var r=n(90849),o=n(60530),i=n(34896),l=n(29549),c=n(24246);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,s=e.onCancel,d=e.title,u=e.message,h=e.cancelButtonText,p=e.cancelButtonThemingProps,g=e.continueButtonText,f=e.continueButtonThemingProps,x=e.isLoading,m=e.returnFocusOnClose,b=e.isCentered,j=e.testId,v=void 0===j?"confirmation-modal":j,C=e.icon;return(0,c.jsxs)(o.u_,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===m||void 0===m||m,isCentered:b,children:[(0,c.jsx)(o.ZA,{}),(0,c.jsxs)(o.hz,{textAlign:"center",p:6,"data-testid":v,children:[C?(0,c.jsx)(i.M5,{mb:2,children:C}):null,d?(0,c.jsx)(o.xB,{fontWeight:"medium",pb:0,children:d}):null,u?(0,c.jsx)(o.fe,{children:u}):null,(0,c.jsx)(o.mz,{children:(0,c.jsxs)(i.MI,{columns:2,width:"100%",children:[(0,c.jsx)(l.zx,a(a({variant:"outline",mr:3,onClick:function(){s&&s(),n()},"data-testid":"cancel-btn",isDisabled:x},p),{},{children:h||"Cancel"})),(0,c.jsx)(l.zx,a(a({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:x},f),{},{children:g||"Continue"}))]})})]})]})}},68512:function(e,t,n){var r=n(90849),o=n(34896),i=n(88038),l=n.n(i),c=(n(27378),n(35100)),s=n(64989),a=n(48114),d=n(24246);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.children,n=e.title,r=e.mainProps;return(0,d.jsxs)(o.kC,{"data-testid":n,direction:"column",height:"100vh",children:[(0,d.jsxs)(l(),{children:[(0,d.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,d.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)(c.Z,{}),(0,d.jsx)(a.Z,{}),(0,d.jsxs)(o.kC,h(h({as:"main",overflow:"auto",flexGrow:1,gap:10},r),{},{children:[(0,d.jsx)(o.xu,{flex:0,flexShrink:0,children:(0,d.jsx)(s.U,{})}),(0,d.jsx)(o.kC,{direction:"column",flex:1,minWidth:0,children:t})]}))]})}},44845:function(e,t,n){var r=n(90849),o=n(90089),i=n(32751),l=n(5008),c=n(29549),s=n(24246),a=["search","onChange","withIcon","onClear","placeholder"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.search,n=e.onChange,r=e.withIcon,d=e.onClear,h=e.placeholder,p=(0,o.Z)(e,a);return(0,s.jsxs)(i.BZ,{size:"sm",minWidth:"308px",children:[r?(0,s.jsx)(i.Z8,{pointerEvents:"none",children:(0,s.jsx)(l.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,s.jsx)(i.II,u({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)},placeholder:h||""},p)),d?(0,s.jsx)(i.xH,{children:(0,s.jsx)(c.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:d,children:"Clear"})}):null]})}},61938:function(e,t,n){n.d(t,{$:function(){return ne}});var r=n(55732),o=n(90849),i=n(97865),l=n(34707),c=n.n(l),s=n(34896),a=n(9992),d=n(70409),u=n(21084),h=n(83125),p=n(29549),g=n(92222),f=n(59003),x=n(55447),m=n(90768),b=n(78624),j=n(90089),v=n(77751),C=n(73452),y=n(27378),w=n(24246),O=["indeterminate","initialValue","manualDisable"],S=function(e){var t=e.value;return(0,w.jsx)(s.kC,{alignItems:"center",height:"100%",children:(0,w.jsx)(s.xv,{fontSize:"xs",lineHeight:4,fontWeight:"normal",children:t})})},k=function(e){var t=e.indeterminate,n=e.initialValue,r=e.manualDisable,o=(0,j.Z)(e,O),i=(0,y.useState)(n)[0];return(0,w.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,w.jsx)(s.xu,{backgroundColor:"white",children:(0,w.jsx)(v.XZ,{isChecked:i||o.checked,isDisabled:i||r,onChange:o.onChange,isIndeterminate:!o.checked&&t,colorScheme:"purple"})})})},P=function(e){var t=e.value,n=e.column,r=null;return n.getIsSorted()&&(r="desc"===n.getAutoSortDir()?(0,w.jsx)(C.ve,{color:"gray.500"}):(0,w.jsx)(C.Hf,{color:"gray.500"})),(0,w.jsxs)(s.xv,{_hover:{backgroundColor:"gray.100"},fontSize:"xs",lineHeight:4,fontWeight:"medium",pr:r?0:3.5,onClick:n.getToggleSortingHandler(),children:[t,r]})},z=n(40240),D=function(e){return"select"===e?{padding:"0px"}:{paddingLeft:"16px",paddingRight:"8px",paddingTop:"0px",paddingBottom:"0px"}},R=function(e){var t=e.tableInstance,n=e.rowActionBar,r=e.footer,o=e.onRowClick;return(0,w.jsx)(z.xJ,{"data-testid":"fidesTable",overflowY:"auto",borderBottomWidth:"1px",borderBottomColor:"gray.200",children:(0,w.jsxs)(z.iA,{variant:"unstyled",style:{borderCollapse:"separate",borderSpacing:0},children:[(0,w.jsx)(z.hr,{position:"sticky",top:"0",height:"36px",zIndex:10,backgroundColor:"gray.50",children:t.getHeaderGroups().map((function(e){return(0,w.jsx)(z.Tr,{children:e.headers.map((function(e){var t;return(0,w.jsx)(z.Th,{width:null!==(t=e.column.columnDef.meta)&&void 0!==t&&t.width?e.column.columnDef.meta.width:"unset",borderTopWidth:"1px",borderTopColor:"gray.200",borderBottomWidth:"1px",borderBottomColor:"gray.200",borderRightWidth:"1px",borderRightColor:"gray.200",_first:{borderLeftWidth:"1px",borderLeftColor:"gray.200"},colSpan:e.colSpan,"data-testid":"column-".concat(e.id),style:D(e.column.id),textTransform:"unset",children:(0,f.ie)(e.column.columnDef.header,e.getContext())},e.id)}))},e.id)}))}),(0,w.jsxs)(z.p3,{"data-testid":"fidesTable-body",children:[n,t.getRowModel().rows.map((function(e){return(0,w.jsx)(z.Tr,{height:"36px",_hover:o?{backgroundColor:"gray.50",cursor:"pointer"}:void 0,"data-testid":"row-".concat(e.id),children:e.getVisibleCells().map((function(t){var n;return(0,w.jsx)(z.Td,{width:null!==(n=t.column.columnDef.meta)&&void 0!==n&&n.width?t.column.columnDef.meta.width:"unset",borderBottomWidth:"1px",borderBottomColor:"gray.200",borderRightWidth:"1px",borderRightColor:"gray.200",_first:{borderLeftWidth:"1px",borderLeftColor:"gray.200"},height:"inherit",style:D(t.column.id),onClick:"Enable"!==t.column.columnDef.header&&o?function(){o(e.original)}:void 0,children:(0,f.ie)(t.column.columnDef.cell,t.getContext())},t.id)}))},e.id)}))]}),r]})})},I=n(44845),L=n(1326),W=function(e){var t=e.globalFilter,n=e.setGlobalFilter,r=e.placeholder,o=(0,y.useState)(t),i=o[0],l=o[1],c=(0,y.useMemo)((function(){return(0,L.Ds)(n,200)}),[n]);return(0,w.jsx)(s.xu,{maxWidth:"510px",width:"100%",children:(0,w.jsx)(I.Z,{onChange:function(e){l(e),c(e)},onClear:function(){l(void 0),n(void 0)},search:i||"",placeholder:r})})},_=n(29470),T=[25,50,100],Z=function(e){var t=e.tableInstance,n=e.pageSizes,r=t.getFilteredRowModel().rows.length,o=t.getState().pagination.pageIndex,i=t.getState().pagination.pageSize,l=o*i,c=o*i+i;return(0,w.jsxs)(s.Ug,{ml:1,mt:3,mb:1,children:[(0,w.jsxs)(_.v2,{children:[(0,w.jsx)(_.j2,{as:p.zx,size:"xs",variant:"ghost","data-testid":"pagination-btn",children:(0,w.jsxs)(s.xv,{fontSize:"xs",lineHeight:4,fontWeight:"semibold",userSelect:"none",style:{fontVariantNumeric:"tabular-nums"},children:[l,"-",c<=r?c:r," of"," ",r]})}),(0,w.jsx)(_.qy,{minWidth:"0",children:n.map((function(e){return(0,w.jsxs)(_.sN,{onClick:function(){t.setPageSize(e)},"data-testid":"pageSize-".concat(e),fontSize:"xs",children:[e," per view"]},e)}))})]}),(0,w.jsx)(p.hU,{icon:(0,w.jsx)(C.wy,{}),size:"xs",variant:"outline","aria-label":"previous page",onClick:function(){t.previousPage()},isDisabled:!t.getCanPreviousPage(),children:"previous"}),(0,w.jsx)(p.hU,{icon:(0,w.jsx)(C.XC,{}),size:"xs",variant:"outline","aria-label":"next page",onClick:function(){t.nextPage()},isDisabled:!t.getCanNextPage(),children:"next"})]})},A=function(e){var t=e.tableInstance,n=e.selectedRows;return 0!==n?(0,w.jsx)(z.Tr,{position:"sticky",zIndex:"10",top:"36px",backgroundColor:"purple.100",height:"36px",p:0,boxShadow:"0px 4px 6px -1px rgba(0, 0, 0, 0.05)",children:(0,w.jsx)(z.Td,{borderWidth:"1px",borderColor:"gray.200",height:"inherit",pl:4,pr:2,py:0,colSpan:t.getAllColumns().length,children:(0,w.jsxs)(s.Ug,{children:[(0,w.jsxs)(s.xv,{fontSize:"xs",children:[n," row(s) selected."]}),t.getIsAllRowsSelected()?null:(0,w.jsxs)(p.zx,{onClick:function(){t.toggleAllRowsSelected()},variant:"link",color:"black",fontSize:"xs",fontWeight:"400",textDecoration:"underline",children:["Select all ",t.getFilteredRowModel().rows.length," rows."]})]})})}):null},F=function(e){var t=e.children;return(0,w.jsx)(s.Ug,{justifyContent:"space-between",alignItems:"center",p:2,borderWidth:"1px",borderBottomWidth:"0px",borderColor:"gray.200",children:t})},M=n(20903),B=function(e){for(var t=e.rowHeight,n=e.numRows,r=[],o=0;o<n;o+=1)r.push((0,w.jsx)(M.Od,{height:"".concat(t,"px")},o));return(0,w.jsx)(s.Kq,{children:r})},E=n(24753),G=n(86677),V=n(6848),H=n(60709),N=n(44047),U=n(60530);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){var t=e.onChange,n=e.displayText,r=e.isChecked,o=e.value;return(0,w.jsx)(v.XZ,{id:"checkbox-".concat(o),value:o,height:"20px",mb:3,isChecked:r,onChange:t,colorScheme:"complimentary",mr:5,children:(0,w.jsx)(s.xv,{fontSize:"sm",lineHeight:5,height:"20px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:n})},o)},$={GVL:!1,AC:!1},J=function(e){var t=e.isOpen,n=e.onClose,r=e.tableInstance,o=(0,y.useState)($),i=o[0],l=o[1];(0,y.useMemo)((function(){var e={id:"vendor_id",value:[]};i.GVL&&e.value.push("gvl"),i.AC&&e.value.push("gacp"),r.setColumnFilters([e])}),[i,r]);return(0,w.jsxs)(U.u_,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,w.jsx)(U.ZA,{}),(0,w.jsxs)(U.hz,{children:[(0,w.jsx)(U.xB,{children:"Filters"}),(0,w.jsx)(U.ol,{}),(0,w.jsx)(s.iz,{}),(0,w.jsxs)(U.fe,{maxH:"85vh",px:6,py:4,overflowX:"auto",children:[(0,w.jsx)(s.xv,{fontSize:"md",fontWeight:"bold",mb:2,children:"Sources"}),(0,w.jsx)(Y,{onChange:function(){l((function(e){return X(X({},e),{},{GVL:!e.GVL})}))},displayText:b.iC.gvl.fullName,isChecked:i.GVL,value:"gvl"}),(0,w.jsx)(Y,{onChange:function(){l((function(e){return X(X({},e),{},{AC:!e.AC})}))},displayText:b.iC.gacp.fullName,isChecked:i.AC,value:"gacp"})]}),(0,w.jsx)(U.mz,{children:(0,w.jsxs)(s.xu,{display:"flex",justifyContent:"space-between",width:"100%",children:[(0,w.jsx)(p.zx,{variant:"outline",size:"sm",mr:3,onClick:function(){r.setColumnFilters([]),l($)},flexGrow:1,children:"Reset Filters"}),(0,w.jsx)(p.zx,{"data-testid":"filter-done-btn",colorScheme:"primary",size:"sm",onClick:n,flexGrow:1,children:"Done"})]})})]})]})};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){var t,n=e.value,r=(0,b.cj)(n),o=null!==(t=b.iC[r])&&void 0!==t?t:{label:"",fullName:""};return(0,w.jsx)(s.kC,{alignItems:"center",justifyContent:"center",height:"100%",mr:"2",children:(0,w.jsx)(a.u,{label:o.fullName,placement:"top",children:(0,w.jsx)(s.Ct,{children:o.label})})})},te=(0,g.Cl)(),ne=function(e){var t=e.redirectRoute,n="Vendor",o=(0,d.pm)(),l=(0,m.hz)(),j=l.dictionaryService,v=l.tcf,C=(0,N.x8)().isLoading,O=(0,G.useRouter)(),z=(0,N.iN)(void 0,{skip:!j}).isLoading,D=(0,N.Qk)(),I=(0,i.Z)(D,2),L=I[0],_=I[1],M=_.isLoading,U=_.isSuccess,q=(0,V.C)(N.gG),X=(0,y.useState)(),Y=X[0],$=X[1],K=(0,u.qY)(),ne=K.isOpen,re=K.onOpen,oe=K.onClose,ie=(0,u.qY)(),le=ie.isOpen,ce=ie.onClose,se=ie.onOpen,ae=q.every((function(e){return e.linked_system})),de=(0,y.useMemo)((function(){return[te.display({id:"select",header:function(e){var t=e.table;return(0,w.jsx)(k,{checked:t.getIsAllRowsSelected(),indeterminate:t.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length>0,onChange:t.getToggleAllRowsSelectedHandler(),manualDisable:ae})},cell:function(e){var t=e.row;return(0,w.jsx)(k,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),initialValue:t.original.linked_system})},meta:{width:"55px"}}),te.accessor((function(e){return e.name}),{id:"name",cell:function(e){return(0,w.jsx)(S,{value:e.getValue()})},header:function(e){return(0,w.jsx)(P,Q({value:n},e))}}),te.accessor((function(e){return e.vendor_id}),{id:"vendor_id",cell:function(e){return(0,w.jsx)(ee,{value:e.getValue()})},header:function(e){return(0,w.jsx)(P,Q({value:"Source"},e))},enableColumnFilter:v,filterFn:"arrIncludesSome",meta:{width:"80px"}})]}),[ae,n,v]),ue=(0,y.useMemo)((function(){var e={};return q.forEach((function(t,n){t.linked_system&&(e[n]=!0)})),e}),[q]),he=(0,f.b7)({columns:de,data:q,getCoreRowModel:(0,g.sC)(),getSortedRowModel:(0,g.tj)(),getFilteredRowModel:(0,g.vL)(),getPaginationRowModel:(0,g.G_)(),onGlobalFilterChange:$,enableRowSelection:!0,enableSorting:!0,enableGlobalFilter:!0,state:{globalFilter:Y,columnVisibility:{vendor_id:v}},initialState:{rowSelection:ue,pagination:{pageSize:T[0]}}}),pe=function(){var e=(0,r.Z)(c().mark((function e(){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=he.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).map((function(e){return e.original.vendor_id}))).length>0)){e.next=7;break}return e.next=4,L(r);case 4:i=e.sent,O.push(t),(0,b.D4)(i)?o((0,E.Vo)((0,b.e$)(i.error))):o((0,E.t5)("Successfully added ".concat(r.length," ").concat(n.toLocaleLowerCase())));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=he.getSelectedRowModel().rows.some((function(e){return!e.original.linked_system})),fe=(0,y.useMemo)((function(){return!(!ge||ae)}),[ge,ae]);if(!j&&!C)return O.push(H.gp),null;if(M||U)return(0,w.jsx)(s.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:(0,w.jsx)(h.$,{})});if(z)return(0,w.jsx)(B,{rowHeight:36,numRows:15});var xe=ae?"All ".concat(n.toLocaleLowerCase()," have already been added"):"Select a ".concat(n.toLocaleLowerCase()," "),me=he.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length;return(0,w.jsxs)(s.kC,{flex:1,direction:"column",overflow:"auto",children:[(0,w.jsx)(x.Z,{isOpen:le,isCentered:!0,onCancel:ce,onClose:ce,onConfirm:pe,title:"Confirmation",message:"You are about to add ".concat(me," ").concat(n.toLocaleLowerCase()).concat(me>1?"s":"")}),(0,w.jsx)(J,{isOpen:ne,onClose:oe,tableInstance:he}),(0,w.jsxs)(F,{children:[(0,w.jsx)(W,{globalFilter:Y,setGlobalFilter:$,placeholder:"Search"}),(0,w.jsxs)(s.kC,{alignItems:"center",children:[(0,w.jsx)(a.u,{label:xe,shouldWrapChildren:!0,placement:"top",isDisabled:fe,children:(0,w.jsxs)(p.zx,{onClick:se,"data-testid":"add-multiple-systems-btn",size:"xs",variant:"outline",disabled:!ge,mr:4,children:["Add ","".concat(n.toLocaleLowerCase(),"s")]})}),v?(0,w.jsx)("span",{children:(0,w.jsx)(p.zx,{onClick:re,"data-testid":"filter-multiple-systems-btn",size:"xs",variant:"outline",children:"Filter"})}):null]})]}),(0,w.jsx)(R,{tableInstance:he,rowActionBar:(0,w.jsx)(A,{tableInstance:he,selectedRows:he.getSelectedRowModel().rows.filter((function(e){return!e.original.linked_system})).length})}),(0,w.jsx)(Z,{tableInstance:he,pageSizes:T})]})}}}]);