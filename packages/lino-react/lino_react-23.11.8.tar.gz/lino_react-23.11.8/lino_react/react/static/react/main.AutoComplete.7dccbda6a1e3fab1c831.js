"use strict";(self.webpackChunklino_react=self.webpackChunklino_react||[]).push([[878],{9158:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.linoResolveGetter=e.name=void 0,e.name="AutoComplete",e.linoResolveGetter={resolveGetter:async t=>{const e=await t.resolve("react","default"),s=await t.resolve("primereact/autocomplete","AutoComplete"),i=await t.resolve("./LinoUtils","constants"),o=await t.resolve("./LinoComponentUtils","LeafComponentInput");return{AutoComplete:class extends o{constructor(t){super(t),this.onKeyDown=t=>{"ArrowDown"!==t.key&&"ArrowUp"!==t.key||(this.inputEl&&!this.inputEl.state.overlayVisible&&(this.state.rows.length||this.getChoices(this.state[i.URL_PARAM_FILTER]),this.inputEl.setState({overlayVisible:!0})),t.stopPropagation())},this.itemTemplate=t=>{let s="object"==typeof t?t.text:t;return e.createElement("div",{dangerouslySetInnerHTML:{__html:s||"Â "}})},this.getChoices=(t,e)=>{let s=(e=e||this.state[i.URL_PARAM_LIMIT])===this.state[i.URL_PARAM_LIMIT]?this.state[i.URL_PARAM_START]:this.state[i.URL_PARAM_LIMIT];this.props.urlParams.controller.actionHandler.silentFetch({path:this.choicesURL(t,s,e)}).then((s=>{this.setState({[i.URL_PARAM_FILTER]:t,[i.URL_PARAM_LIMIT]:e,count:s.count,lazyLoading:!1,rows:this.state.rows.concat(s.rows)})}))},this.state={[i.URL_PARAM_FILTER]:"",[i.URL_PARAM_LIMIT]:15,[i.URL_PARAM_START]:0,lazyLoading:!1,rows:[],value:null},this.hasClearButton=!1,this.componentDidMount=this.componentDidMount.bind(this),this.getChoices=this.getChoices.bind(this),this.getInput=this.getInput.bind(this),this.itemTemplate=this.itemTemplate.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}componentDidMount(){if(this.hasClearButton&&!this.clear)throw"clear NotImplemented";let t=this.getValue();this.setState({[i.URL_PARAM_FILTER]:t.text,[i.URL_PARAM_LIMIT]:this.props.urlParams[i.URL_PARAM_LIMIT],value:t})}getInput(t={}){return null===this.state.value?null:e.createElement(e.Fragment,null,e.createElement(s,{completeMethod:t=>this.getChoices(t.query,this.state[i.URL_PARAM_LIMIT]),dropdown:!0,field:"text",itemTemplate:this.itemTemplate,onChange:t=>this.setState({value:Object.assign(this.state.value,{text:t.value,value:null}),rows:[],[i.URL_PARAM_LIMIT]:this.props.urlParams[i.URL_PARAM_LIMIT]}),onSelect:this.onSelect,onShowLoader:()=>{this.clearButton&&(this.clearButton.style.visibility="hidden")},ref:t=>this.inputEl=t,suggestions:this.state.rows,tabIndex:this.props.tabIndex,value:this.state.value.text,virtualScrollerOptions:{itemSize:this.props.urlParams[i.URL_PARAM_LIMIT],lazy:!0,loading:this.state.lazyLoading,onScrollIndexChange:t=>{let e=this.state[i.URL_PARAM_LIMIT];e-t.first<15&&!this.state.lazyLoading&&this.state.count>e&&(this.setState({lazyLoading:!0}),this.getChoices(this.state[i.URL_PARAM_FILTER],e+15))},ref:t=>this.scroller=t,scrollHeight:"200px"},...t}),this.hasClearButton&&this.props.elem.field_options.allowBlank&&this.state.value.text&&e.createElement("i",{key:this.state.touch,ref:t=>this.clearButton=t,className:"pi pi-times l-fk-clear",onClick:this.clear,style:{visibility:"visible",cursor:"pointer"}}))}}}},resolveNames:["AutoComplete"]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5BdXRvQ29tcGxldGUuN2RjY2JkYTZhMWUzZmFiMWM4MzEuanMiLCJtYXBwaW5ncyI6IndMQUFhLEVBQUFBLEtBQWUsZUEwSWYsRUFBQUMsa0JBQW9CLENBQzdCQyxjQXZJcUNDLE1BQU9DLElBQ2hELE1BQU1DLFFBQWNELEVBQU1FLFFBQVEsUUFBUyxXQUNyQ0MsUUFBdUJILEVBQU1FLFFBQVEsMEJBQTJCLGdCQUVoRUUsUUFBa0JKLEVBQU1FLFFBQVEsY0FBZSxhQUMvQ0csUUFBMkJMLEVBQU1FLFFBQVEsdUJBQXdCLHNCQTRIdkUsTUFBTyxDQUNISSxhQTFISixjQUEyQkQsRUFDdkIsV0FBQUUsQ0FBWUMsR0FDUkMsTUFBTUQsR0E4QlYsS0FBQUUsVUFBYUMsSUFDUyxjQUFkQSxFQUFNQyxLQUFxQyxZQUFkRCxFQUFNQyxNQUMvQkMsS0FBS0MsVUFBWUQsS0FBS0MsUUFBUUMsTUFBTUMsaUJBQy9CSCxLQUFLRSxNQUFNRSxLQUFLQyxRQUFRTCxLQUFLTSxXQUFXTixLQUFLRSxNQUFNWCxFQUFVZ0IsbUJBQ2xFUCxLQUFLQyxRQUFRTyxTQUFTLENBQUNMLGdCQUFnQixLQUUzQ0wsRUFBTVcsa0JBQ1YsRUFHSixLQUFBQyxhQUFnQkMsSUFDWixJQUFJQyxFQUFvQixpQkFBVEQsRUFBb0JBLEVBQUtFLEtBQU9GLEVBQy9DLE9BQU8sdUJBQUtHLHdCQUF5QixDQUFDQyxPQUFRSCxHQUFLLE1BQVksRUFHbkUsS0FBQU4sV0FBYSxDQUFDVSxFQUFlQyxLQUV6QixJQUFJQyxHQURKRCxFQUFRQSxHQUFTakIsS0FBS0UsTUFBTVgsRUFBVTRCLG9CQUNoQm5CLEtBQUtFLE1BQU1YLEVBQVU0QixpQkFDckNuQixLQUFLRSxNQUFNWCxFQUFVNkIsaUJBQ3JCcEIsS0FBS0UsTUFBTVgsRUFBVTRCLGlCQUMzQm5CLEtBQUtMLE1BQU0wQixVQUFVQyxXQUFXQyxjQUFjQyxZQUFZLENBQ3REQyxLQUFNekIsS0FBSzBCLFdBQVdWLEVBQU9FLEVBQU9ELEtBQ3RDVSxNQUFN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R2QsSUFBS0MsS0FBS0UsTUFBTW9FLE1BQU9oQixJQUFLQyxHQUFNdkQsS0FBS21ELFlBQWNJLEVBQzNEZ0IsVUFBVyx5QkFDWEMsUUFBU3hFLEtBQUtxQyxNQUNkZSxNQUFPLENBQUNDLFdBQVksVUFBV29CLE9BQVEsYUFFbkQsR0FNSCxFQUtHQyxhQUFjLENBQUMsZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saW5vX3JlYWN0Ly4vbGlub19yZWFjdC9yZWFjdC9jb21wb25lbnRzL0F1dG9Db21wbGV0ZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IG5hbWU6IHN0cmluZyA9IFwiQXV0b0NvbXBsZXRlXCI7XG5pbXBvcnQgKiBhcyB0IGZyb20gJy4vdHlwZXMnO1xuXG5cbmNvbnN0IGdldEF1dG9Db21wbGV0ZTogdC5SZXNvbHZlR2V0dGVyID0gYXN5bmMgKGlQb29sKSA9PiB7XG5jb25zdCBSZWFjdCA9IGF3YWl0IGlQb29sLnJlc29sdmUoXCJyZWFjdFwiLCBcImRlZmF1bHRcIik7XG5jb25zdCBQUkF1dG9Db21wbGV0ZSA9IGF3YWl0IGlQb29sLnJlc29sdmUoXCJwcmltZXJlYWN0L2F1dG9jb21wbGV0ZVwiLCBcIkF1dG9Db21wbGV0ZVwiKTtcblxuY29uc3QgY29uc3RhbnRzID0gYXdhaXQgaVBvb2wucmVzb2x2ZShcIi4vTGlub1V0aWxzXCIsIFwiY29uc3RhbnRzXCIpO1xuY29uc3QgTGVhZkNvbXBvbmVudElucHV0ID0gYXdhaXQgaVBvb2wucmVzb2x2ZShcIi4vTGlub0NvbXBvbmVudFV0aWxzXCIsIFwiTGVhZkNvbXBvbmVudElucHV0XCIpO1xuXG5cbmNsYXNzIEF1dG9Db21wbGV0ZSBleHRlbmRzIExlYWZDb21wb25lbnRJbnB1dCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgW2NvbnN0YW50cy5VUkxfUEFSQU1fRklMVEVSXTogXCJcIixcbiAgICAgICAgICAgIFtjb25zdGFudHMuVVJMX1BBUkFNX0xJTUlUXTogMTUsXG4gICAgICAgICAgICBbY29uc3RhbnRzLlVSTF9QQVJBTV9TVEFSVF06IDAsXG4gICAgICAgICAgICBsYXp5TG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICByb3dzOiBbXSxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5oYXNDbGVhckJ1dHRvbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuY29tcG9uZW50RGlkTW91bnQgPSB0aGlzLmNvbXBvbmVudERpZE1vdW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2V0Q2hvaWNlcyA9IHRoaXMuZ2V0Q2hvaWNlcy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldElucHV0ID0gdGhpcy5nZXRJbnB1dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLml0ZW1UZW1wbGF0ZSA9IHRoaXMuaXRlbVRlbXBsYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25LZXlEb3duID0gdGhpcy5vbktleURvd24uYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2xlYXJCdXR0b24gJiYgIXRoaXMuY2xlYXIpIHRocm93IFwiY2xlYXIgTm90SW1wbGVtZW50ZWRcIjtcbiAgICAgICAgbGV0IHYgPSB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgW2NvbnN0YW50cy5VUkxfUEFSQU1fRklMVEVSXTogdi50ZXh0LFxuICAgICAgICAgICAgW2NvbnN0YW50cy5VUkxfUEFSQU1fTElNSVRdOiB0aGlzLnByb3BzLnVybFBhcmFtc1tcbiAgICAgICAgICAgICAgICBjb25zdGFudHMuVVJMX1BBUkFNX0xJTUlUXSxcbiAgICAgICAgICAgIHZhbHVlOiB2LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbktleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gJ0Fycm93RG93bicgfHwgZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0RWwgJiYgIXRoaXMuaW5wdXRFbC5zdGF0ZS5vdmVybGF5VmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5yb3dzLmxlbmd0aCkgdGhpcy5nZXRDaG9pY2VzKHRoaXMuc3RhdGVbY29uc3RhbnRzLlVSTF9QQVJBTV9GSUxURVJdKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0RWwuc2V0U3RhdGUoe292ZXJsYXlWaXNpYmxlOiB0cnVlfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXRlbVRlbXBsYXRlID0gKGl0ZW0pID0+IHtcbiAgICAgICAgbGV0IGkgPSB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiA/IGl0ZW0udGV4dCA6IGl0ZW07XG4gICAgICAgIHJldHVybiA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7X19odG1sOiBpIHx8IFwiXFx1MDBhMFwifX0vPlxuICAgIH1cblxuICAgIGdldENob2ljZXMgPSAocXVlcnk6IHN0cmluZywgbGltaXQ/OiBudW1iZXIpID0+IHtcbiAgICAgICAgbGltaXQgPSBsaW1pdCB8fCB0aGlzLnN0YXRlW2NvbnN0YW50cy5VUkxfUEFSQU1fTElNSVRdO1xuICAgICAgICBsZXQgc3RhcnQgPSBsaW1pdCA9PT0gdGhpcy5zdGF0ZVtjb25zdGFudHMuVVJMX1BBUkFNX0xJTUlUXVxuICAgICAgICAgICAgPyB0aGlzLnN0YXRlW2NvbnN0YW50cy5VUkxfUEFSQU1fU1RBUlRdXG4gICAgICAgICAgICA6IHRoaXMuc3RhdGVbY29uc3RhbnRzLlVSTF9QQVJBTV9MSU1JVF07XG4gICAgICAgIHRoaXMucHJvcHMudXJsUGFyYW1zLmNvbnRyb2xsZXIuYWN0aW9uSGFuZGxlci5zaWxlbnRGZXRjaCh7XG4gICAgICAgICAgICBwYXRoOiB0aGlzLmNob2ljZXNVUkwocXVlcnksIHN0YXJ0LCBsaW1pdCl9XG4gICAgICAgICkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgW2NvbnN0YW50cy5VUkxfUEFSQU1fRklMVEVSXTogcXVlcnksXG4gICAgICAgICAgICAgICAgW2NvbnN0YW50cy5VUkxfUEFSQU1fTElNSVRdOiBsaW1pdCxcbiAgICAgICAgICAgICAgICBjb3VudDogZGF0YS5jb3VudCxcbiAgICAgICAgICAgICAgICBsYXp5TG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgcm93czogdGhpcy5zdGF0ZS5yb3dzLmNvbmNhdChkYXRhLnJvd3MpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldElucHV0KGN1c3RvbVByb3BzID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUudmFsdWUgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gPFJlYWN0LkZyYWdtZW50PjxQUkF1dG9Db21wbGV0ZVxuICAgICAgICAgICAgY29tcGxldGVNZXRob2Q9eyhlKSA9PiB0aGlzLmdldENob2ljZXMoXG4gICAgICAgICAgICAgICAgZS5xdWVyeSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlW2NvbnN0YW50cy5VUkxfUEFSQU1fTElNSVRdXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgZHJvcGRvd249e3RydWV9XG4gICAgICAgICAgICBmaWVsZD1cInRleHRcIlxuICAgICAgICAgICAgaXRlbVRlbXBsYXRlPXt0aGlzLml0ZW1UZW1wbGF0ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBPYmplY3QuYXNzaWduKHRoaXMuc3RhdGUudmFsdWUsIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogZS52YWx1ZSwgdmFsdWU6IG51bGx9KSxcbiAgICAgICAgICAgICAgICByb3dzOiBbXSxcbiAgICAgICAgICAgICAgICBbY29uc3RhbnRzLlVSTF9QQVJBTV9MSU1JVF06IHRoaXMucHJvcHMudXJsUGFyYW1zW1xuICAgICAgICAgICAgICAgICAgICBjb25zdGFudHMuVVJMX1BBUkFNX0xJTUlUXSxcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgb25TZWxlY3Q9e3RoaXMub25TZWxlY3R9XG4gICAgICAgICAgICBvblNob3dMb2FkZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGVhckJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQnV0dG9uLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICByZWY9eyhlbCkgPT4gdGhpcy5pbnB1dEVsID0gZWx9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucz17dGhpcy5zdGF0ZS5yb3dzfVxuICAgICAgICAgICAgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9XG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZS50ZXh0fVxuICAgICAgICAgICAgdmlydHVhbFNjcm9sbGVyT3B0aW9ucz17e1xuICAgICAgICAgICAgICAgIGl0ZW1TaXplOiB0aGlzLnByb3BzLnVybFBhcmFtc1tjb25zdGFudHMuVVJMX1BBUkFNX0xJTUlUXSxcbiAgICAgICAgICAgICAgICBsYXp5OiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRoaXMuc3RhdGUubGF6eUxvYWRpbmcsXG4gICAgICAgICAgICAgICAgb25TY3JvbGxJbmRleENoYW5nZTogKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsID0gdGhpcy5zdGF0ZVtjb25zdGFudHMuVVJMX1BBUkFNX0xJTUlUXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgLSBldmVudC5maXJzdCA8IDE1ICYmICF0aGlzLnN0YXRlLmxhenlMb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB0aGlzLnN0YXRlLmNvdW50ID4gbFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2xhenlMb2FkaW5nOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENob2ljZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVtjb25zdGFudHMuVVJMX1BBUkFNX0ZJTFRFUl0sIGwgKyAxNSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlZjogZWwgPT4gdGhpcy5zY3JvbGxlciA9IGVsLFxuICAgICAgICAgICAgICAgIHNjcm9sbEhlaWdodDogXCIyMDBweFwiLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5jdXN0b21Qcm9wc30vPlxuICAgICAgICAgICAge3RoaXMuaGFzQ2xlYXJCdXR0b24gJiYgdGhpcy5wcm9wcy5lbGVtLmZpZWxkX29wdGlvbnMuYWxsb3dCbGFua1xuICAgICAgICAgICAgICAgICYmIHRoaXMuc3RhdGUudmFsdWUudGV4dFxuICAgICAgICAgICAgICAgICYmIDxpIGtleT17dGhpcy5zdGF0ZS50b3VjaH0gcmVmPXtlbCA9PiB0aGlzLmNsZWFyQnV0dG9uID0gZWx9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcInBpIHBpLXRpbWVzIGwtZmstY2xlYXJcIn1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsZWFyfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7dmlzaWJpbGl0eTogJ3Zpc2libGUnLCBjdXJzb3I6IFwicG9pbnRlclwifX0vPn1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICB9XG59XG5cblxucmV0dXJuIHtcbiAgICBBdXRvQ29tcGxldGU6IEF1dG9Db21wbGV0ZVxufVxufVxuXG5leHBvcnQgY29uc3QgbGlub1Jlc29sdmVHZXR0ZXIgPSB7XG4gICAgcmVzb2x2ZUdldHRlcjogZ2V0QXV0b0NvbXBsZXRlLFxuICAgIHJlc29sdmVOYW1lczogWydBdXRvQ29tcGxldGUnXVxufVxuIl0sIm5hbWVzIjpbIm5hbWUiLCJsaW5vUmVzb2x2ZUdldHRlciIsInJlc29sdmVHZXR0ZXIiLCJhc3luYyIsImlQb29sIiwiUmVhY3QiLCJyZXNvbHZlIiwiUFJBdXRvQ29tcGxldGUiLCJjb25zdGFudHMiLCJMZWFmQ29tcG9uZW50SW5wdXQiLCJBdXRvQ29tcGxldGUiLCJjb25zdHJ1Y3RvciIsInByb3BzIiwic3VwZXIiLCJvbktleURvd24iLCJldmVudCIsImtleSIsInRoaXMiLCJpbnB1dEVsIiwic3RhdGUiLCJvdmVybGF5VmlzaWJsZSIsInJvd3MiLCJsZW5ndGgiLCJnZXRDaG9pY2VzIiwiVVJMX1BBUkFNX0ZJTFRFUiIsInNldFN0YXRlIiwic3RvcFByb3BhZ2F0aW9uIiwiaXRlbVRlbXBsYXRlIiwiaXRlbSIsImkiLCJ0ZXh0IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJxdWVyeSIsImxpbWl0Iiwic3RhcnQiLCJVUkxfUEFSQU1fTElNSVQiLCJVUkxfUEFSQU1fU1RBUlQiLCJ1cmxQYXJhbXMiLCJjb250cm9sbGVyIiwiYWN0aW9uSGFuZGxlciIsInNpbGVudEZldGNoIiwicGF0aCIsImNob2ljZXNVUkwiLCJ0aGVuIiwiZGF0YSIsImNvdW50IiwibGF6eUxvYWRpbmciLCJjb25jYXQiLCJ2YWx1ZSIsImhhc0NsZWFyQnV0dG9uIiwiY29tcG9uZW50RGlkTW91bnQiLCJiaW5kIiwiZ2V0SW5wdXQiLCJjbGVhciIsInYiLCJnZXRWYWx1ZSIsImN1c3RvbVByb3BzIiwiRnJhZ21lbnQiLCJjb21wbGV0ZU1ldGhvZCIsImUiLCJkcm9wZG93biIsImZpZWxkIiwib25DaGFuZ2UiLCJPYmplY3QiLCJhc3NpZ24iLCJvblNlbGVjdCIsIm9uU2hvd0xvYWRlciIsImNsZWFyQnV0dG9uIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwicmVmIiwiZWwiLCJzdWdnZXN0aW9ucyIsInRhYkluZGV4IiwidmlydHVhbFNjcm9sbGVyT3B0aW9ucyIsIml0ZW1TaXplIiwibGF6eSIsImxvYWRpbmciLCJvblNjcm9sbEluZGV4Q2hhbmdlIiwibCIsImZpcnN0Iiwic2Nyb2xsZXIiLCJzY3JvbGxIZWlnaHQiLCJlbGVtIiwiZmllbGRfb3B0aW9ucyIsImFsbG93QmxhbmsiLCJ0b3VjaCIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJjdXJzb3IiLCJyZXNvbHZlTmFtZXMiXSwic291cmNlUm9vdCI6IiJ9