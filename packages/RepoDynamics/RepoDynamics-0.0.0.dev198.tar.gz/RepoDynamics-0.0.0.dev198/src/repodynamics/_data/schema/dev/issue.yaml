$schema: https://json-schema.org/draft/2020-12/schema
title: Issue Configurations
description: GitHub Issues settings and templates
type: object
default: {}
additionalProperties: false
properties:
  blank_enabled:
    description: Whether to allow submission of free-form issues
    type: boolean
    default: false
  contact_links:
    description: External links to be shown on the issue template chooser
    type: array
    default: []
    uniqueItems: true
    items:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
        url:
          type: string
          format: uri
        about:
          type: string
      required: [name, url, about]
  forms:
    type: array
    default: []
    uniqueItems: true
    items:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
        primary_commit_id:
          type: string
        sub_type:
          type: string
        pre_process:
          $ref: '#/definitions/pre_process'
        post_process:
          type: object
          additionalProperties: false
          properties:
            assign_creator:
              type: object
              additionalProperties: false
              properties:
                if_checkbox:
                  type: object
                  additionalProperties: false
                  properties:
                    id:
                      type: string
                    number:
                      type: integer
                    is_checked:
                      type: boolean
                      default: true
                  required: [id, number, is_checked]
            body:
              type: string
        name:
          type: string
        description:
          type: string
        labels:
          type: array
          uniqueItems: true
          minItems: 1
          items:
              type: string
        title:
          type: string
        projects:
          type: array
          uniqueItems: true
          items:
              type: string
        body:
          type: array
          minItems: 1
          items:
            type: object
            additionalProperties: false
            properties:
              type:
                type: string
                enum: [ checkboxes, dropdown, input, markdown, textarea]
              id:
                type: string
                pattern: ^[A-Za-z][A-Za-z0-9_-]*$
              attributes:
                type: object
                additionalProperties: true
              validations:
                type: object
                additionalProperties: true
              pre_process:
                $ref: '#/definitions/pre_process'
            required: [type, attributes]
      required: [ id, primary_commit_id, sub_type, name, description, body]

definitions:
  pre_process:
    type: object
    additionalProperties: false
    properties:
      if_any:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: string
      if_all:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: string
      if_none:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: string
      if_equal:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: string
    oneOf:
      - required: [ if_any ]
      - required: [ if_all ]
      - required: [ if_none ]
      - required: [ if_equal ]