[build-system]
requires = ["poetry_core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.pytest.ini_options]
python_functions = "test* should* given*"

[tool.poetry]
name = "f4ratk"
version = "2023.1"
description = "A Fama/French Finance Factor Regression Analysis Toolkit."
license = "AGPL-3.0-only"
authors = ["Tobias RÃ¶ttger <dev@roettger-it.de>"]
readme = "README.md"
packages = [
    { include = "f4ratk" },
    { include = "COPYING", format = "sdist" },
]
homepage = "https://codeberg.org/toroettg/f4ratk"
repository = "https://codeberg.org/toroettg/f4ratk"
keywords = ["finance", "fama", "regression"]
classifiers = [
    "Topic :: Scientific/Engineering :: Information Analysis",
    "Topic :: Office/Business :: Financial",
    "Topic :: Utilities",
    "Development Status :: 4 - Beta",
    "Operating System :: OS Independent",
    "Environment :: Console",
    "Intended Audience :: Science/Research",
    "Intended Audience :: Financial and Insurance Industry",
    "Natural Language :: English",
    "Typing :: Typed"
]

[tool.poetry.urls]
"Issue Tracker" = "https://codeberg.org/toroettg/f4ratk/issues"
"Source Code" = "https://codeberg.org/toroettg/f4ratk"
"Donate" = "https://liberapay.com/f4ratk/donate"

[tool.poetry.scripts]
f4ratk = "f4ratk.cli.commands:main"
f4ratk-server = "f4ratk.web.server:main"

[tool.poetry.dependencies]
python = ">=3.8.1,<3.12"
importlib_metadata = "6.0.0"
appdirs = "1.4.4"
pandas = "1.5.3"
pandas-datareader = "0.10.0"
yahooquery = "2.3.1"
requests-cache = "0.9.8"
statsmodels = "0.14.0"
click = "8.1.3"
xlrd = "2.0.1"
PyYAML = "6.0"
flask = { version = "2.2.2", optional = true }
flask-caching = { version = "2.0.2", optional = true }
marshmallow = { version = "3.19.0", optional = true }
gunicorn = { version = "20.1.0", optional = true }

scipy = "1.10.0"

[tool.poetry.extras]
server = ["flask", "flask-caching", "marshmallow"]
server-engine = ["gunicorn"]

[tool.poetry.dev-dependencies]
setuptools = "*"
pytest = "7.2.1"
pytest-mock = "3.10.0"
pytest-cov = "4.0.0"
flake8 = "6.0.0"
flake8-isort = "6.0.0"
flake8-black = "0.3.6"
pyproject-flake8 = "6.0.0"
black = "22.12.0"

[tool.isort]
profile = "black"
combine_as_imports = true

[tool.black]
skip-string-normalization = true

[tool.flake8]
max-line-length = 88
extend-ignore = "E203, W503"

[build]
[[build.env]]
name = "BP_CPYTHON_VERSION"
value = "3.11.*"
